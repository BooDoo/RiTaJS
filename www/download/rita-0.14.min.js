(function(h,A){function B(a){for(var f=a[0],d=1;d<a.length;d++)RiTa.isPunctuation(a[d])||(f+=u),f+=a[d];return f}function C(a,f){return 0==a.indexOf(f)}function D(a){for(var a=a.slice(),f=a.length,d=f;d--;){var b=parseInt(Math.random()*f),e=a[d];a[d]=a[b];a[b]=e}return a}function n(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function H(a){for(var f="[",d=0;d<a.length;d++){var b=a[d];a[d]instanceof Array&&(b=H(a[d]));f+=b;d<a.length-1&&(f+=", ")}return f+"]"}function l(a){return"undefined"===
typeof a||null===a}function w(a){!RiTa.SILENT&&console.trace(this);throw Error("[RiTa] "+a);}function I(){if(!RiTa.SILENT){console.warn("[RiTa] ");for(var a=0;a<arguments.length;a++)console.warn(arguments[a])}}function E(a){if(!RiTa.SILENT){console.log("[RiTa] ");for(var f=0;f<arguments.length;f++)console.log(arguments[f])}}function s(a){return"string"===typeof a&&0<a.length}function m(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function y(a,f){for(var d=a.length;d--;)if(a[d]==f)return!0;
return!1}function v(a,f){return a.match(f+"$")==f}function C(a,f){return a.match("^"+f)==f}function z(){return function(a){if(this instanceof arguments.callee)"function"==typeof this.__init__&&this.__init__.apply(this,a&&a.callee?a:arguments);else return new arguments.callee(arguments)}}function O(a,f,d){if(0>d||d>=f.length)throw Error("Bad wordIdx="+d+" for "+f);a.g.__pushState();var b=a.x;if(0<d){for(var f=f.slice(0,d),d="",e=0;e<f.length;e++)d+=f[e]+" ";f=a.g.__textWidth(a._font,d);switch(a._alignment){case c.LEFT:b=
a.x+f;break;case c.RIGHT:b=a.x-f;break;case c.CENTER:console.warn("TODO: test center-align here"),b=a.x}}a.g.__popState();return b}function P(a,f,d){if(f&&f.length){a=a||c._getDefaultFont();f[0].font(a);for(var b=0;b<f.length;b++)a&&f[b].font(a),f[b].y=d,d+=a.leading;return f}}function Q(a){R(c.instances,a);a&&(delete a._rs,delete a)}function S(a){for(var f=0;f<a.length;f++)Q(a[f])}function J(){var a=arguments,f=a.length,d={r:0,g:0,b:0,a:255};if(!f)return d;if(1==f&&"array"===n(a[0]))return d.apply(this,
cr);3<=f&&(d.r=a[0],d.g=a[1],d.b=a[2]);4==f&&(d.a=a[3]);2>=f&&(d.r=a[0],d.g=a[0],d.b=a[0]);2==f&&(d.a=a[1]);return d}function R(a,f){for(;-1!==a.indexOf(f);)a.splice(a.indexOf(f),1)}function Z(a,f,d,b){for(var b=b||c._getDefaultFont(),e=[],i=0;i<a.length;i++)e.push(new c(a[i],f,d,b));return 1>e.length?[]:P(b,e,d)}min=function(a,f,d){f<a&&(a=f);d<a&&(a=d);return a};computeRawArray=function(a,f){var d=[],b,e;if(0==a.length)return f.length;if(0==f.length)return a.length;for(var c=0;c<=a.length;c++)d[c]=
[],d[c][0]=c;for(var g=0;g<=f.length;g++)d[0][g]=g;for(c=1;c<=a.length;c++){b=a[c-1];for(g=1;g<=f.length;g++)e=f[g-1],e=b===e?0:1,d[c][g]=min(d[c-1][g]+1,d[c][g-1]+1,d[c-1][g-1]+e)}return d[a.length][f.length]};var aa=function(){var a={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},f={icate:"ic",
ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};return function(d){var b,e,c,g,q;if(3>d.length)return d;c=d.substr(0,1);"y"==c&&(d=c.toUpperCase()+d.substr(1));g=/^(.+?)(ss|i)es$/;e=/^(.+?)([^s])s$/;g.test(d)?d=d.replace(g,"$1$2"):e.test(d)&&(d=d.replace(e,"$1$2"));g=/^(.+?)eed$/;e=/^(.+?)(ed|ing)$/;g.test(d)?(e=g.exec(d),g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(e[1])&&(g=/.$/,d=d.replace(g,""))):e.test(d)&&(e=e.exec(d),b=e[1],e=/^([^aeiou][^aeiouy]*)?[aeiouy]/,
e.test(b)&&(d=b,e=/(at|bl|iz)$/,q=/([^aeiouylsz])\1$/,b=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,e.test(d)?d+="e":q.test(d)?(g=/.$/,d=d.replace(g,"")):b.test(d)&&(d+="e")));g=/^(.+?)y$/;g.test(d)&&(e=g.exec(d),b=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy]/,g.test(b)&&(d=b+"i"));g=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;g.test(d)&&(e=g.exec(d),b=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
g.test(b)&&(d=b+a[e]));g=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;g.test(d)&&(e=g.exec(d),b=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(b)&&(d=b+f[e]));g=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;e=/^(.+?)(s|t)(ion)$/;g.test(d)?(e=g.exec(d),b=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(b)&&(d=b)):e.test(d)&&(e=e.exec(d),b=e[1]+e[2],e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
e.test(b)&&(d=b));g=/^(.+?)e$/;if(g.test(d)&&(e=g.exec(d),b=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,q=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,g.test(b)||e.test(b)&&!q.test(b)))d=b;g=/ll$/;e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;g.test(d)&&e.test(d)&&(g=/.$/,d=d.replace(g,""));"y"==c&&(d=c.toLowerCase()+
d.substr(1));return d}}(),ba=function(){function a(d,b){var e=d.substr(-1);if(e=f[e])for(var c=0;c<e.length;c++){if((b||!e[c].intact)&&d.substr(0-e[c].pattern.length)==e[c].pattern){var g=d.substr(0,d.length-e[c].size);e[c].appendage&&(g+=e[c].appendage);if(g.match(/^[aeiou]/)?1<g.length:2<g.length&&g.match(/[aeiouy]/))return e[c].continuation?a(g,!1):g}}else throw Error("No rules found!");return d}var f={a:[{continuation:!1,intact:!0,pattern:"ia",size:"2"},{continuation:!1,intact:!0,pattern:"a",
size:"1"}],b:[{continuation:!1,intact:!1,pattern:"bb",size:"1"}],c:[{appendage:"s",continuation:!1,intact:!1,pattern:"ytic",size:"3"},{continuation:!0,intact:!1,pattern:"ic",size:"2"},{appendage:"t",continuation:!0,intact:!1,pattern:"nc",size:"1"}],d:[{continuation:!1,intact:!1,pattern:"dd",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ied",size:"3"},{appendage:"s",continuation:!1,intact:!1,pattern:"ceed",size:"2"},{continuation:!1,intact:!1,pattern:"eed",size:"1"},{continuation:!0,
intact:!1,pattern:"ed",size:"2"},{continuation:!0,intact:!1,pattern:"hood",size:"4"}],e:[{continuation:!0,intact:!1,pattern:"e",size:"1"}],f:[{appendage:"v",continuation:!1,intact:!1,pattern:"lief",size:"1"},{continuation:!0,intact:!1,pattern:"if",size:"2"}],g:[{continuation:!0,intact:!1,pattern:"ing",size:"3"},{appendage:"y",continuation:!1,intact:!1,pattern:"iag",size:"3"},{continuation:!0,intact:!1,pattern:"ag",size:"2"},{continuation:!1,intact:!1,pattern:"gg",size:"1"}],h:[{continuation:!1,intact:!0,
pattern:"th",size:"2"},{appendage:"c",continuation:!1,intact:!1,pattern:"guish",size:"5"},{continuation:!0,intact:!1,pattern:"ish",size:"3"}],i:[{continuation:!1,intact:!0,pattern:"i",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"i",size:"1"}],j:[{appendage:"d",continuation:!1,intact:!1,pattern:"ij",size:"1"},{appendage:"s",continuation:!1,intact:!1,pattern:"fuj",size:"1"},{appendage:"d",continuation:!1,intact:!1,pattern:"uj",size:"1"},{appendage:"d",continuation:!1,intact:!1,pattern:"oj",
size:"1"},{appendage:"r",continuation:!1,intact:!1,pattern:"hej",size:"1"},{appendage:"t",continuation:!1,intact:!1,pattern:"verj",size:"1"},{appendage:"t",continuation:!1,intact:!1,pattern:"misj",size:"2"},{appendage:"d",continuation:!1,intact:!1,pattern:"nj",size:"1"},{appendage:"s",continuation:!1,intact:!1,pattern:"j",size:"1"}],l:[{continuation:!1,intact:!1,pattern:"ifiabl",size:"6"},{appendage:"y",continuation:!1,intact:!1,pattern:"iabl",size:"4"},{continuation:!0,intact:!1,pattern:"abl",size:"3"},
{continuation:!1,intact:!1,pattern:"ibl",size:"3"},{appendage:"l",continuation:!0,intact:!1,pattern:"bil",size:"2"},{continuation:!1,intact:!1,pattern:"cl",size:"1"},{appendage:"y",continuation:!1,intact:!1,pattern:"iful",size:"4"},{continuation:!0,intact:!1,pattern:"ful",size:"3"},{continuation:!1,intact:!1,pattern:"ul",size:"2"},{continuation:!0,intact:!1,pattern:"ial",size:"3"},{continuation:!0,intact:!1,pattern:"ual",size:"3"},{continuation:!0,intact:!1,pattern:"al",size:"2"},{continuation:!1,
intact:!1,pattern:"ll",size:"1"}],m:[{continuation:!1,intact:!1,pattern:"ium",size:"3"},{continuation:!1,intact:!0,pattern:"um",size:"2"},{continuation:!0,intact:!1,pattern:"ism",size:"3"},{continuation:!1,intact:!1,pattern:"mm",size:"1"}],n:[{appendage:"j",continuation:!0,intact:!1,pattern:"sion",size:"4"},{appendage:"c",continuation:!1,intact:!1,pattern:"xion",size:"4"},{continuation:!0,intact:!1,pattern:"ion",size:"3"},{continuation:!0,intact:!1,pattern:"ian",size:"3"},{continuation:!0,intact:!1,
pattern:"an",size:"2"},{continuation:!1,intact:!1,pattern:"een",size:"0"},{continuation:!0,intact:!1,pattern:"en",size:"2"},{continuation:!1,intact:!1,pattern:"nn",size:"1"}],p:[{continuation:!0,intact:!1,pattern:"ship",size:"4"},{continuation:!1,intact:!1,pattern:"pp",size:"1"}],r:[{continuation:!0,intact:!1,pattern:"er",size:"2"},{continuation:!1,intact:!1,pattern:"ear",size:"0"},{continuation:!1,intact:!1,pattern:"ar",size:"2"},{continuation:!0,intact:!1,pattern:"or",size:"2"},{continuation:!0,
intact:!1,pattern:"ur",size:"2"},{continuation:!1,intact:!1,pattern:"rr",size:"1"},{continuation:!0,intact:!1,pattern:"tr",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ier",size:"3"}],s:[{appendage:"y",continuation:!0,intact:!1,pattern:"ies",size:"3"},{continuation:!1,intact:!1,pattern:"sis",size:"2"},{continuation:!0,intact:!1,pattern:"is",size:"2"},{continuation:!0,intact:!1,pattern:"ness",size:"4"},{continuation:!1,intact:!1,pattern:"ss",size:"0"},{continuation:!0,intact:!1,pattern:"ous",
size:"3"},{continuation:!1,intact:!0,pattern:"us",size:"2"},{continuation:!0,intact:!0,pattern:"s",size:"1"},{continuation:!1,intact:!1,pattern:"s",size:"0"}],t:[{appendage:"y",continuation:!1,intact:!1,pattern:"plicat",size:"4"},{continuation:!0,intact:!1,pattern:"at",size:"2"},{continuation:!0,intact:!1,pattern:"ment",size:"4"},{continuation:!0,intact:!1,pattern:"ent",size:"3"},{continuation:!0,intact:!1,pattern:"ant",size:"3"},{appendage:"b",continuation:!1,intact:!1,pattern:"ript",size:"2"},{appendage:"b",
continuation:!1,intact:!1,pattern:"orpt",size:"2"},{continuation:!1,intact:!1,pattern:"duct",size:"1"},{continuation:!1,intact:!1,pattern:"sumpt",size:"2"},{appendage:"i",continuation:!1,intact:!1,pattern:"cept",size:"2"},{appendage:"v",continuation:!1,intact:!1,pattern:"olut",size:"2"},{continuation:!1,intact:!1,pattern:"sist",size:"0"},{continuation:!0,intact:!1,pattern:"ist",size:"3"},{continuation:!1,intact:!1,pattern:"tt",size:"1"}],u:[{continuation:!1,intact:!1,pattern:"iqu",size:"3"},{continuation:!1,
intact:!1,pattern:"ogu",size:"1"}],v:[{appendage:"j",continuation:!0,intact:!1,pattern:"siv",size:"3"},{continuation:!1,intact:!1,pattern:"eiv",size:"0"},{continuation:!0,intact:!1,pattern:"iv",size:"2"}],y:[{continuation:!0,intact:!1,pattern:"bly",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ily",size:"3"},{continuation:!1,intact:!1,pattern:"ply",size:"0"},{continuation:!0,intact:!1,pattern:"ly",size:"2"},{continuation:!1,intact:!1,pattern:"ogy",size:"1"},{continuation:!1,intact:!1,
pattern:"phy",size:"1"},{continuation:!1,intact:!1,pattern:"omy",size:"1"},{continuation:!1,intact:!1,pattern:"opy",size:"1"},{continuation:!0,intact:!1,pattern:"ity",size:"3"},{continuation:!0,intact:!1,pattern:"ety",size:"3"},{continuation:!1,intact:!1,pattern:"lty",size:"2"},{continuation:!1,intact:!1,pattern:"istry",size:"5"},{continuation:!0,intact:!1,pattern:"ary",size:"3"},{continuation:!0,intact:!1,pattern:"ory",size:"3"},{continuation:!1,intact:!1,pattern:"ify",size:"3"},{appendage:"t",continuation:!0,
intact:!1,pattern:"ncy",size:"2"},{continuation:!0,intact:!1,pattern:"acy",size:"3"}],z:[{continuation:!0,intact:!1,pattern:"iz",size:"2"},{appendage:"s",continuation:!1,intact:!1,pattern:"yz",size:"1"}]};return function(f){return a(f.toLowerCase(),!0)}}(),T={computeRaw:function(a,f){var d=n(a),b=n(a);if(d!=b)throw Error("Unexpected args: "+a+"/"+f);if("array"===b)return computeRawArray(a,f);if(!a.length&&!f.length)return 0;var d=[],e,c=a.length,g=f.length;if(0==c)return g;if(0==g)return c;for(var q=
0;q<=c;q++)d[q]=[],d[q][0]=q;for(var h=0;h<=g;h++)d[0][h]=h;for(q=1;q<=c;q++){b=a.charAt(q-1);for(h=1;h<=g;h++)e=f.charAt(h-1),e=b==e?0:1,d[q][h]=min(d[q-1][h]+1,d[q][h-1]+1,d[q-1][h-1]+e)}return d[c][g]},computeAdjusted:function(a,f){var d=n(a),b=n(a);if(d===b){if("string"===b)return!a.length&&!f.length?0:med.computeRaw(a,f)/(a.length+f.length);if("array"===b)return!a.length&&!f.length?0:computeRawArray(a,f)/(a.length+f.length)}throw Error("Unexpected args: "+a+"/"+f);}},b=function(a,f,d){this.regex=
RegExp(a);this.offset=f;this.suffix=d};b.prototype={applies:function(a){return this.regex.test(m(a))},fire:function(a){return this.truncate(m(a))+this.suffix},analyze:function(a){return""!=this.suffix&&v(a,this.suffix)?!0:!1},truncate:function(a){return 0==this.offset?a:a.substr(0,a.length-this.offset)}};Function.prototype.returns=function(){if(1!=arguments.length)throw Error("returns() expects 1 arg, found "+arguments.length);var a=this,f=arguments[0];return function(){var d=a.apply(this,arguments);
K([f],[d])||L("Invalid return type: "+d+" ("+n(d)+"), expected: "+f+"\n");return d}};Function.prototype.expects=function(){for(var a=this,f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];0===f.length&&(f=[[]]);if(0<f.length)for(d=0;d<f.length;d++)"string"===typeof f[d]&&"array"!==f[d]&&L("Failed expects(): expected array, found string (perhaps an old-style arguments list?): \n"+a);return function(){for(var d=[],b=[],c=0;c<f.length;c++)d.push(f[c]);for(c=0;c<arguments.length;c++)b.push(arguments[c]);
d.push(b);ca.apply(this,d)||L("Invalid arg types: expecting "+H(f)+" but found: "+H(b));return a.apply(this,arguments)}};var L=function(a){console.trace(this);throw TypeError(a);},ca=function(){switch(arguments.length){case 0:case 1:throw Error("Too few args: "+arguments.length);case 2:return K(arguments[0],arguments[1]);default:for(var a=arguments[arguments.length-1],f=0;f<arguments.length-1;f++)if(K(arguments[f],a))return!0;return!1}},K=function(a,f){if(2==arguments.length&&"array"===a&&f instanceof
Array)return!0;if(f.length!=a.length)return!1;for(var d=a.length,b,e,c,g=0;g<d;g++){e=f[g];c=a[g];b=!0;switch(!0){case c instanceof Function:b=e?e.isA?e.isA(c):e instanceof c:!1;break;case "string"==typeof c||c instanceof String:b=typeof e==c||"array"===c&&e instanceof Array||"boolean"===c&&"number"===typeof e||"regexp"===c&&"function"===typeof e}if(!b)return!1}return!0},U="Was What When Where How Which If Who Is Could Might Will Does Why".split(" "),V="Was What When Where How Which Why Who Will".split(" "),
da=/[-[\]{}()*+!?%&.,\\^$|#@<>|+=;:]/g,ea=/^[^0-9A-Za-z\s]*$/,u=" ",fa=new b("^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",0,"s"),W=[new b("^(piano|photo|solo|ego|tobacco|cargo|golf|grief)$",0,"s"),new b("^(wildlife)$",0,"s"),new b("[bcdfghjklmnpqrstvwxyz]o$",0,"es"),new b("[bcdfghjklmnpqrstvwxyz]y$",1,"ies"),new b("([zsx]|ch|sh)$",0,"es"),new b("[lraeiou]fe$",2,"ves"),new b("[lraeiou]f$",1,"ves"),new b("(eu|eau)$",0,"x"),new b("(man|woman)$",2,"en"),new b("money$",2,"ies"),new b("person$",4,"ople"),
new b("motif$",0,"s"),new b("^meninx|phalanx$",1,"ges"),new b("(xis|sis)$",2,"es"),new b("schema$",0,"ta"),new b("^bus$",0,"ses"),new b("child$",0,"ren"),new b("^(curi|formul|vertebr|larv|uln|alumn|signor|alg)a$",0,"e"),new b("^corpus$",2,"ora"),new b("^(maharaj|raj|myn|mull)a$",0,"hs"),new b("^aide-de-camp$",8,"s-de-camp"),new b("^apex|cortex$",2,"ices"),new b("^weltanschauung$",0,"en"),new b("^lied$",0,"er"),new b("^tooth$",4,"eeth"),new b("^[lm]ouse$",4,"ice"),new b("^foot$",3,"eet"),new b("femur",
2,"ora"),new b("goose",4,"eese"),new b("(human|german|roman)$",0,"s"),new b("(crisis)$",2,"es"),new b("^(monarch|loch|stomach)$",0,"s"),new b("^(taxi|chief|proof|ref|relief|roof|belief)$",0,"s"),new b("^(co|no)$",0,"'s"),new b("^(memorandum|bacterium|curriculum|minimum|maximum|referendum|spectrum|phenomenon|criterion)$",2,"a"),new b("^(appendix|index|matrix)",2,"ices"),new b("^(stimulus|alumnus)$",2,"i"),new b("^(Bantu|Bengalese|Bengali|Beninese|Boche|bonsai|Burmese|Chinese|Congolese|Gabonese|Guyanese|Japanese|Javanese|Lebanese|Maltese|Olympics|Portuguese|Senegalese|Siamese|Singhalese|Sinhalese|Sioux|Sudanese|Swiss|Taiwanese|Togolese|Vietnamese|aircraft|anopheles|apparatus|asparagus|barracks|bellows|bison|bluefish|bob|bourgeois|bream|brill|butterfingers|carp|catfish|chassis|clothes|chub|cod|codfish|coley|contretemps|corps|crawfish|crayfish|crossroads|cuttlefish|dace|dice|dogfish|doings|dory|downstairs|eldest|earnings|economics|electronics|finnan|firstborn|fish|flatfish|flounder|fowl|fry|fries|works|globefish|goldfish|grand|gudgeon|gulden|haddock|hake|halibut|headquarters|herring|hertz|horsepower|goods|hovercraft|hundredweight|ironworks|jackanapes|kilohertz|kurus|kwacha|ling|lungfish|mackerel|means|megahertz|moorfowl|moorgame|mullet|nepalese|offspring|pampas|parr|(pants$)|patois|pekinese|penn'orth|perch|pickerel|pike|pince-nez|plaice|precis|quid|rand|rendezvous|revers|roach|roux|salmon|samurai|series|seychelles|seychellois|shad|sheep|shellfish|smelt|spacecraft|species|starfish|stockfish|sunfish|superficies|sweepstakes|swordfish|tench|tennis|tope|triceps|trout|tuna|tunafish|tunny|turbot|trousers|undersigned|veg|waterfowl|waterworks|waxworks|whiting|wildfowl|woodworm|yen|aries|pisces|forceps|lieder|jeans|physics|mathematics|news|odds|politics|remains|surroundings|thanks|statistics|goods|aids)$",
0,"",0)],X="shall would may might ought should".split(" "),M=[new b("[bcdfghjklmnpqrstvwxyz]ie$",2,"ying",1),new b("[^ie]e$",1,"ing",1),new b("^bog-down$",5,"ging-down",0),new b("^chivy$",1,"vying",0),new b("^gen-up$",3,"ning-up",0),new b("^trek$",1,"cking",0),new b("^ko$",0,"'ing",0),new b("^(age|be)$",0,"ing",0),new b("(ibe)$",1,"ing",0)],ga=[new b("e$",0,"d",1),new b("[bcdfghjklmnpqrstvwxyz]y$",1,"ied",1),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(bring)$",
3,"ought",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(take|rise|strew|blow|draw|drive|know|give|arise|gnaw|grave|grow|hew|know|mow|see|sew|throw|prove|saw|quartersaw|partake|sake|shake|shew|show|shrive|sightsee|strew|strive)$",0,"n",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?[gd]o$",0,"ne",1),new b("^(beat|eat|be|fall)$",0,"en",0),new b("^(have)$",2,"d",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?bid$",
0,"den",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?[lps]ay$",1,"id",1),new b("^behave$",0,"d",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?have$",2,"d",1),new b("(sink|slink|drink)$",3,"unk",0),new b("(([sfc][twlp]?r?|w?r)ing|hang)$",3,"ung",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(shear|swear|bear|wear|tear)$",3,"orn",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(bend|spend|send|lend)$",
1,"t",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(weep|sleep|sweep|creep|keep$)$",2,"pt",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(sell|tell)$",3,"old",0),new b("^(outfight|beseech)$",4,"ought",0),new b("^bethink$",3,"ought",0),new b("^buy$",2,"ought",0),new b("^aby$",1,"ought",0),new b("^tarmac",0,"ked",0),new b("^abide$",3,"ode",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(speak|(a?)wake|break)$",
3,"oken",0),new b("^backbite$",1,"ten",0),new b("^backslide$",1,"den",0),new b("^become$",3,"ame",0),new b("^begird$",3,"irt",0),new b("^outlie$",2,"ay",0),new b("^rebind$",3,"ound",0),new b("^relay$",2,"aid",0),new b("^shit$",3,"hat",0),new b("^bereave$",4,"eft",0),new b("^foreswear$",3,"ore",0),new b("^overfly$",1,"own",0),new b("^beget$",2,"otten",0),new b("^begin$",3,"gun",0),new b("^bestride$",1,"den",0),new b("^bite$",1,"ten",0),new b("^bleed$",4,"led",0),new b("^bog-down$",5,"ged-down",0),
new b("^bind$",3,"ound",0),new b("^(.*)feed$",4,"fed",0),new b("^breed$",4,"red",0),new b("^brei",0,"d",0),new b("^bring$",3,"ought",0),new b("^build$",1,"t",0),new b("^come",0,"",0),new b("^catch$",3,"ught",0),new b("^chivy$",1,"vied",0),new b("^choose$",3,"sen",0),new b("^cleave$",4,"oven",0),new b("^crossbreed$",4,"red",0),new b("^deal",0,"t",0),new b("^dow$",1,"ught",0),new b("^dream",0,"t",0),new b("^dig$",3,"dug",0),new b("^dwell$",2,"lt",0),new b("^enwind$",3,"ound",0),new b("^feel$",3,"elt",
0),new b("^flee$",2,"ed",0),new b("^floodlight$",5,"lit",0),new b("^fly$",1,"own",0),new b("^forbear$",3,"orne",0),new b("^forerun$",3,"ran",0),new b("^forget$",2,"otten",0),new b("^fight$",4,"ought",0),new b("^find$",3,"ound",0),new b("^freeze$",4,"ozen",0),new b("^gainsay$",2,"aid",0),new b("^gin$",3,"gan",0),new b("^gen-up$",3,"ned-up",0),new b("^ghostwrite$",1,"ten",0),new b("^get$",2,"otten",0),new b("^grind$",3,"ound",0),new b("^hacksaw",0,"n",0),new b("^hear",0,"d",0),new b("^hold$",3,"eld",
0),new b("^hide$",1,"den",0),new b("^honey$",2,"ied",0),new b("^inbreed$",4,"red",0),new b("^indwell$",3,"elt",0),new b("^interbreed$",4,"red",0),new b("^interweave$",4,"oven",0),new b("^inweave$",4,"oven",0),new b("^ken$",2,"ent",0),new b("^kneel$",3,"elt",0),new b("^lie$",2,"ain",0),new b("^leap$",0,"t",0),new b("^learn$",0,"t",0),new b("^lead$",4,"led",0),new b("^leave$",4,"eft",0),new b("^light$",5,"lit",0),new b("^lose$",3,"ost",0),new b("^make$",3,"ade",0),new b("^mean",0,"t",0),new b("^meet$",
4,"met",0),new b("^misbecome$",3,"ame",0),new b("^misdeal$",2,"alt",0),new b("^mishear$",1,"d",0),new b("^mislead$",4,"led",0),new b("^misunderstand$",3,"ood",0),new b("^outbreed$",4,"red",0),new b("^outrun$",3,"ran",0),new b("^outride$",1,"den",0),new b("^outshine$",3,"one",0),new b("^outshoot$",4,"hot",0),new b("^outstand$",3,"ood",0),new b("^outthink$",3,"ought",0),new b("^outgo$",2,"went",0),new b("^overbear$",3,"orne",0),new b("^overbuild$",3,"ilt",0),new b("^overcome$",3,"ame",0),new b("^overfly$",
2,"lew",0),new b("^overhear$",2,"ard",0),new b("^overlie$",2,"ain",0),new b("^overrun$",3,"ran",0),new b("^override$",1,"den",0),new b("^overshoot$",4,"hot",0),new b("^overwind$",3,"ound",0),new b("^overwrite$",1,"ten",0),new b("^run$",3,"ran",0),new b("^rebuild$",3,"ilt",0),new b("^red$",3,"red",0),new b("^redo$",1,"one",0),new b("^remake$",3,"ade",0),new b("^rerun$",3,"ran",0),new b("^resit$",3,"sat",0),new b("^rethink$",3,"ought",0),new b("^rewind$",3,"ound",0),new b("^rewrite$",1,"ten",0),new b("^ride$",
1,"den",0),new b("^reeve$",4,"ove",0),new b("^sit$",3,"sat",0),new b("^shoe$",3,"hod",0),new b("^shine$",3,"one",0),new b("^shoot$",4,"hot",0),new b("^ski$",1,"i'd",0),new b("^slide$",1,"den",0),new b("^smite$",1,"ten",0),new b("^seek$",3,"ought",0),new b("^spit$",3,"pat",0),new b("^speed$",4,"ped",0),new b("^spellbind$",3,"ound",0),new b("^spoil$",2,"ilt",0),new b("^spotlight$",5,"lit",0),new b("^spin$",3,"pun",0),new b("^steal$",3,"olen",0),new b("^stand$",3,"ood",0),new b("^stave$",3,"ove",0),
new b("^stride$",1,"den",0),new b("^strike$",3,"uck",0),new b("^stick$",3,"uck",0),new b("^swell$",3,"ollen",0),new b("^swim$",3,"wum",0),new b("^teach$",4,"aught",0),new b("^think$",3,"ought",0),new b("^tread$",3,"odden",0),new b("^typewrite$",1,"ten",0),new b("^unbind$",3,"ound",0),new b("^underbuy$",2,"ought",0),new b("^undergird$",3,"irt",0),new b("^undergo$",1,"one",0),new b("^underlie$",2,"ain",0),new b("^undershoot$",4,"hot",0),new b("^understand$",3,"ood",0),new b("^unfreeze$",4,"ozen",0),
new b("^unlearn",0,"t",0),new b("^unmake$",3,"ade",0),new b("^unreeve$",4,"ove",0),new b("^unstick$",3,"uck",0),new b("^unteach$",4,"aught",0),new b("^unthink$",3,"ought",0),new b("^untread$",3,"odden",0),new b("^unwind$",3,"ound",0),new b("^upbuild$",1,"t",0),new b("^uphold$",3,"eld",0),new b("^upheave$",4,"ove",0),new b("^waylay$",2,"ain",0),new b("^whipsaw$",2,"awn",0),new b("^withhold$",3,"eld",0),new b("^withstand$",3,"ood",0),new b("^win$",3,"won",0),new b("^wind$",3,"ound",0),new b("^weave$",
4,"oven",0),new b("^write$",1,"ten",0),new b("^trek$",1,"cked",0),new b("^ko$",1,"o'd",0),new b("^win$",2,"on",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(cast|thrust|typeset|cut|bid|upset|wet|bet|cut|hit|hurt|inset|let|cost|burst|beat|beset|set|upset|hit|offset|put|quit|wed|typeset|wed|spread|split|slit|read|run|shut|shed)$",0,"",0)],ha=[new b("^(reduce)$",0,"d",0),new b("e$",0,"d",1),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?[pls]ay$",
1,"id",1),new b("[bcdfghjklmnpqrstvwxyz]y$",1,"ied",1),new b("^(fling|cling|hang)$",3,"ung",0),new b("(([sfc][twlp]?r?|w?r)ing)$",3,"ang",1),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(bend|spend|send|lend|spend)$",1,"t",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?lie$",2,"ay",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(weep|sleep|sweep|creep|keep)$",2,"pt",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(sell|tell)$",
3,"old",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?do$",1,"id",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?dig$",2,"ug",0),new b("^behave$",0,"d",0),new b("^(have)$",2,"d",0),new b("(sink|drink)$",3,"ank",0),new b("^swing$",3,"ung",0),new b("^be$",2,"was",0),new b("^outfight$",4,"ought",0),new b("^tarmac",0,"ked",0),new b("^abide$",3,"ode",0),new b("^aby$",1,"ought",0),new b("^become$",3,"ame",0),new b("^begird$",3,"irt",
0),new b("^outlie$",2,"ay",0),new b("^rebind$",3,"ound",0),new b("^shit$",3,"hat",0),new b("^bereave$",4,"eft",0),new b("^foreswear$",3,"ore",0),new b("^bename$",3,"empt",0),new b("^beseech$",4,"ought",0),new b("^bethink$",3,"ought",0),new b("^bleed$",4,"led",0),new b("^bog-down$",5,"ged-down",0),new b("^buy$",2,"ought",0),new b("^bind$",3,"ound",0),new b("^(.*)feed$",4,"fed",0),new b("^breed$",4,"red",0),new b("^brei$",2,"eid",0),new b("^bring$",3,"ought",0),new b("^build$",3,"ilt",0),new b("^come$",
3,"ame",0),new b("^catch$",3,"ught",0),new b("^clothe$",5,"lad",0),new b("^crossbreed$",4,"red",0),new b("^deal$",2,"alt",0),new b("^dow$",1,"ught",0),new b("^dream$",2,"amt",0),new b("^dwell$",3,"elt",0),new b("^enwind$",3,"ound",0),new b("^feel$",3,"elt",0),new b("^flee$",3,"led",0),new b("^floodlight$",5,"lit",0),new b("^arise$",3,"ose",0),new b("^eat$",3,"ate",0),new b("^awake$",3,"oke",0),new b("^backbite$",4,"bit",0),new b("^backslide$",4,"lid",0),new b("^befall$",3,"ell",0),new b("^begin$",
3,"gan",0),new b("^beget$",3,"got",0),new b("^behold$",3,"eld",0),new b("^bespeak$",3,"oke",0),new b("^bestride$",3,"ode",0),new b("^betake$",3,"ook",0),new b("^bite$",4,"bit",0),new b("^blow$",3,"lew",0),new b("^bear$",3,"ore",0),new b("^break$",3,"oke",0),new b("^choose$",4,"ose",0),new b("^cleave$",4,"ove",0),new b("^countersink$",3,"ank",0),new b("^drink$",3,"ank",0),new b("^draw$",3,"rew",0),new b("^drive$",3,"ove",0),new b("^fall$",3,"ell",0),new b("^fly$",2,"lew",0),new b("^flyblow$",3,"lew",
0),new b("^forbid$",2,"ade",0),new b("^forbear$",3,"ore",0),new b("^foreknow$",3,"new",0),new b("^foresee$",3,"saw",0),new b("^forespeak$",3,"oke",0),new b("^forego$",2,"went",0),new b("^forgive$",3,"ave",0),new b("^forget$",3,"got",0),new b("^forsake$",3,"ook",0),new b("^forspeak$",3,"oke",0),new b("^forswear$",3,"ore",0),new b("^forgo$",2,"went",0),new b("^fight$",4,"ought",0),new b("^find$",3,"ound",0),new b("^freeze$",4,"oze",0),new b("^give$",3,"ave",0),new b("^geld$",3,"elt",0),new b("^gen-up$",
3,"ned-up",0),new b("^ghostwrite$",3,"ote",0),new b("^get$",3,"got",0),new b("^grow$",3,"rew",0),new b("^grind$",3,"ound",0),new b("^hear$",2,"ard",0),new b("^hold$",3,"eld",0),new b("^hide$",4,"hid",0),new b("^honey$",2,"ied",0),new b("^inbreed$",4,"red",0),new b("^indwell$",3,"elt",0),new b("^interbreed$",4,"red",0),new b("^interweave$",4,"ove",0),new b("^inweave$",4,"ove",0),new b("^ken$",2,"ent",0),new b("^kneel$",3,"elt",0),new b("^^know$$",3,"new",0),new b("^leap$",2,"apt",0),new b("^learn$",
2,"rnt",0),new b("^lead$",4,"led",0),new b("^leave$",4,"eft",0),new b("^light$",5,"lit",0),new b("^lose$",3,"ost",0),new b("^make$",3,"ade",0),new b("^mean$",2,"ant",0),new b("^meet$",4,"met",0),new b("^misbecome$",3,"ame",0),new b("^misdeal$",2,"alt",0),new b("^misgive$",3,"ave",0),new b("^mishear$",2,"ard",0),new b("^mislead$",4,"led",0),new b("^mistake$",3,"ook",0),new b("^misunderstand$",3,"ood",0),new b("^outbreed$",4,"red",0),new b("^outgrow$",3,"rew",0),new b("^outride$",3,"ode",0),new b("^outshine$",
3,"one",0),new b("^outshoot$",4,"hot",0),new b("^outstand$",3,"ood",0),new b("^outthink$",3,"ought",0),new b("^outgo$",2,"went",0),new b("^outwear$",3,"ore",0),new b("^overblow$",3,"lew",0),new b("^overbear$",3,"ore",0),new b("^overbuild$",3,"ilt",0),new b("^overcome$",3,"ame",0),new b("^overdraw$",3,"rew",0),new b("^overdrive$",3,"ove",0),new b("^overfly$",2,"lew",0),new b("^overgrow$",3,"rew",0),new b("^overhear$",2,"ard",0),new b("^overpass$",3,"ast",0),new b("^override$",3,"ode",0),new b("^oversee$",
3,"saw",0),new b("^overshoot$",4,"hot",0),new b("^overthrow$",3,"rew",0),new b("^overtake$",3,"ook",0),new b("^overwind$",3,"ound",0),new b("^overwrite$",3,"ote",0),new b("^partake$",3,"ook",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?run$",2,"an",0),new b("^ring$",3,"ang",0),new b("^rebuild$",3,"ilt",0),new b("^red",0,"",0),new b("^reave$",4,"eft",0),new b("^remake$",3,"ade",0),new b("^resit$",3,"sat",0),new b("^rethink$",3,"ought",0),new b("^retake$",3,"ook",
0),new b("^rewind$",3,"ound",0),new b("^rewrite$",3,"ote",0),new b("^ride$",3,"ode",0),new b("^rise$",3,"ose",0),new b("^reeve$",4,"ove",0),new b("^sing$",3,"ang",0),new b("^sink$",3,"ank",0),new b("^sit$",3,"sat",0),new b("^see$",3,"saw",0),new b("^shoe$",3,"hod",0),new b("^shine$",3,"one",0),new b("^shake$",3,"ook",0),new b("^shoot$",4,"hot",0),new b("^shrink$",3,"ank",0),new b("^shrive$",3,"ove",0),new b("^sightsee$",3,"saw",0),new b("^ski$",1,"i'd",0),new b("^skydive$",3,"ove",0),new b("^slay$",
3,"lew",0),new b("^slide$",4,"lid",0),new b("^slink$",3,"unk",0),new b("^smite$",4,"mit",0),new b("^seek$",3,"ought",0),new b("^spit$",3,"pat",0),new b("^speed$",4,"ped",0),new b("^spellbind$",3,"ound",0),new b("^spoil$",2,"ilt",0),new b("^speak$",3,"oke",0),new b("^spotlight$",5,"lit",0),new b("^spring$",3,"ang",0),new b("^spin$",3,"pun",0),new b("^stink$",3,"ank",0),new b("^steal$",3,"ole",0),new b("^stand$",3,"ood",0),new b("^stave$",3,"ove",0),new b("^stride$",3,"ode",0),new b("^strive$",3,"ove",
0),new b("^strike$",3,"uck",0),new b("^stick$",3,"uck",0),new b("^swim$",3,"wam",0),new b("^swear$",3,"ore",0),new b("^teach$",4,"aught",0),new b("^think$",3,"ought",0),new b("^throw$",3,"rew",0),new b("^take$",3,"ook",0),new b("^tear$",3,"ore",0),new b("^transship$",4,"hip",0),new b("^tread$",4,"rod",0),new b("^typewrite$",3,"ote",0),new b("^unbind$",3,"ound",0),new b("^unclothe$",5,"lad",0),new b("^underbuy$",2,"ought",0),new b("^undergird$",3,"irt",0),new b("^undershoot$",4,"hot",0),new b("^understand$",
3,"ood",0),new b("^undertake$",3,"ook",0),new b("^undergo$",2,"went",0),new b("^underwrite$",3,"ote",0),new b("^unfreeze$",4,"oze",0),new b("^unlearn$",2,"rnt",0),new b("^unmake$",3,"ade",0),new b("^unreeve$",4,"ove",0),new b("^unspeak$",3,"oke",0),new b("^unstick$",3,"uck",0),new b("^unswear$",3,"ore",0),new b("^unteach$",4,"aught",0),new b("^unthink$",3,"ought",0),new b("^untread$",4,"rod",0),new b("^unwind$",3,"ound",0),new b("^upbuild$",3,"ilt",0),new b("^uphold$",3,"eld",0),new b("^upheave$",
4,"ove",0),new b("^uprise$",3,"ose",0),new b("^upspring$",3,"ang",0),new b("^go$",2,"went",0),new b("^wiredraw$",3,"rew",0),new b("^withdraw$",3,"rew",0),new b("^withhold$",3,"eld",0),new b("^withstand$",3,"ood",0),new b("^wake$",3,"oke",0),new b("^win$",3,"won",0),new b("^wear$",3,"ore",0),new b("^wind$",3,"ound",0),new b("^weave$",4,"ove",0),new b("^write$",3,"ote",0),new b("^trek$",1,"cked",0),new b("^ko$",1,"o'd",0),new b("^bid",2,"ade",0),new b("^win$",2,"on",0),new b("^swim",2,"am",0),new b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(cast|thrust|typeset|cut|bid|upset|wet|bet|cut|hit|hurt|inset|let|cost|burst|beat|beset|set|upset|offset|put|quit|wed|typeset|wed|spread|split|slit|read|run|shut|shed|lay)$",
0,"",0)],ia=[new b("^aby$",0,"es",0),new b("^bog-down$",5,"s-down",0),new b("^chivy$",1,"vies",0),new b("^gen-up$",3,"s-up",0),new b("^prologue$",3,"gs",0),new b("^picknic$",0,"ks",0),new b("^ko$",0,"'s",0),new b("[osz]$",0,"es",1),new b("^have$",2,"s",0),new b("[bcdfghjklmnpqrstvwxyz]y$",1,"ies",1),new b("^be$",2,"is"),new b("([zsx]|ch|sh)$",0,"es",1)],ja="abat abet abhor abut accur acquit adlib admit aerobat aerosol agendaset allot alot anagram annul appal apparel armbar aver babysit airdrop appal blackleg bobsled bur chum confab counterplot curet dib backdrop backfil backflip backlog backpedal backslap backstab bag balfun ballot ban bar barbel bareleg barrel bat bayonet becom bed bedevil bedwet beenhop befit befog beg beget begin bejewel bemedal benefit benum beset besot bestir bet betassel bevel bewig bib bid billet bin bip bit bitmap blab blag blam blan blat bles blim blip blob bloodlet blot blub blur bob bodypop bog booby-trap boobytrap booksel bootleg bop bot bowel bracket brag brig brim bud buffet bug bullshit bum bun bus but cab cabal cam can cancel cap caracol caravan carburet carnap carol carpetbag castanet cat catcal catnap cavil chan chanel channel chap char chargecap chat chin chip chir chirrup chisel chop chug chur clam clap clearcut clip clodhop clog clop closet clot club co-occur co-program co-refer co-run co-star cob cobweb cod coif com combat comit commit compel con concur confer confiscat control cop coquet coral corbel corral cosset cotransmit councel council counsel court-martial crab cram crap crib crop crossleg cub cudgel cum cun cup cut dab dag dam dan dap daysit de-control de-gazet de-hul de-instal de-mob de-program de-rig de-skil deadpan debag debar log decommit decontrol defer defog deg degas deinstal demit demob demur den denet depig depip depit der deskil deter devil diagram dial dig dim din dip disbar disbud discomfit disembed disembowel dishevel disinter dispel disprefer distil dog dognap don doorstep dot dowel drag drat driftnet distil egotrip enrol enthral extol fulfil gaffe golliwog idyl inspan drip drivel drop drub drug drum dub duel dun dybbuk earwig eavesdrop ecolabel eitherspigot electroblot embed emit empanel enamel endlabel endtrim enrol enthral entrammel entrap enwrap equal equip estop exaggerat excel expel extol fag fan farewel fat featherbed feget fet fib fig fin fingerspel fingertip fit flab flag flap flip flit flog flop fob focus fog footbal footslog fop forbid forget format fortunetel fot foxtrot frag freefal fret frig frip frog frug fuel fufil fulfil fullyfit fun funnel fur furpul gab gad gag gam gambol gap garot garrot gas gat gel gen get giftwrap gig gimbal gin glam glenden glendin globetrot glug glut gob goldpan goostep gossip grab gravel grid grin grip grit groundhop grovel grub gum gun gunrun gut gyp haircut ham han handbag handicap handknit handset hap hareleg hat headbut hedgehop hem hen hiccup highwal hip hit hobnob hog hop horsewhip hostel hot hotdog hovel hug hum humbug hup hushkit hut illfit imbed immunblot immunoblot impannel impel imperil incur infer infil inflam initial input inset instil inter interbed intercrop intercut interfer instal instil intermit japan jug kris manumit mishit mousse mud interwar jab jag jam jar jawdrop jet jetlag jewel jib jig jitterbug job jog jog-trot jot jut ken kennel kid kidnap kip kissogram kit knap kneecap knit knob knot kor label lag lam lap lavel leafcut leapfrog leg lem lep let level libel lid lig lip lob log lok lollop longleg lop lowbal lug mackerel mahom man map mar marshal marvel mat matchwin metal micro-program microplan microprogram milksop mis-cal mis-club mis-spel miscal mishit mislabel mit mob mod model mohmam monogram mop mothbal mug multilevel mum nab nag nan nap net nightclub nightsit nip nod nonplus norkop nostril not nut nutmeg occur ocur offput offset omit ommit onlap out-general out-gun out-jab out-plan out-pol out-pul out-put out-run out-sel outbid outcrop outfit outgas outgun outhit outjab outpol output outrun outship outshop outsin outstrip outswel outspan overcrop pettifog photostat pouf preset prim pug ret rosin outwit over-commit over-control over-fil over-fit over-lap over-model over-pedal over-pet over-run over-sel over-step over-tip over-top overbid overcal overcommit overcontrol overcrap overdub overfil overhat overhit overlap overman overplot overrun overshop overstep overtip overtop overwet overwil pad paintbal pan panel paperclip par parallel parcel partiescal pat patrol pedal peewit peg pen pencil pep permit pet petal photoset phototypeset phut picket pig pilot pin pinbal pip pipefit pipet pit plan plit plod plop plot plug plumet plummet pod policyset polyfil ponytrek pop pot pram prebag predistil predril prefer prefil preinstal prep preplan preprogram prizewin prod profer prog program prop propel pub pummel pun pup pushfit put quarel quarrel quickskim quickstep quickwit quip quit quivertip quiz rabbit rabit radiolabel rag ram ramrod rap rat ratecap ravel re-admit re-cal re-cap re-channel re-dig re-dril re-emit re-fil re-fit re-flag re-format re-fret re-hab re-instal re-inter re-lap re-let re-map re-metal re-model re-pastel re-plan re-plot re-plug re-pot re-program re-refer re-rig re-rol re-run re-sel re-set re-skin re-stal re-submit re-tel re-top re-transmit re-trim re-wrap readmit reallot rebel rebid rebin rebut recap rechannel recommit recrop recur recut red redril refer refit reformat refret refuel reget regret reinter rejig rekit reknot relabel relet rem remap remetal remit remodel reoccur rep repel repin replan replot repol repot reprogram rerun reset resignal resit reskil resubmit retransfer retransmit retro-fit retrofit rev revel revet rewrap rib richochet ricochet rid rig rim ringlet rip rit rival rivet roadrun rob rocket rod roset rot rowel rub run runnel rut sab sad sag sandbag sap scab scalpel scam scan scar scat schlep scrag scram shall sled smut stet sulfuret trepan unrip unstop whir whop wig scrap scrat scrub scrum scud scum scur semi-control semi-skil semi-skim semiskil sentinel set shag sham shed shim shin ship shir shit shlap shop shopfit shortfal shot shovel shred shrinkwrap shrivel shrug shun shut side-step sideslip sidestep signal sin sinbin sip sit skid skim skin skip skir skrag slab slag slam slap slim slip slit slob slog slop slot slowclap slug slum slur smit snag snap snip snivel snog snorkel snowcem snub snug sob sod softpedal son sop spam span spar spat spiderweb spin spiral spit splat split spot sprag spraygun sprig springtip spud spur squat squirrel stab stag star stem sten stencil step stir stop storytel strap strim strip strop strug strum strut stub stud stun sub subcrop sublet submit subset suedetrim sum summit sun suntan sup super-chil superad swab swag swan swap swat swig swim swivel swot tab tag tan tansfer tap tar tassel tat tefer teleshop tendril terschel th'strip thermal thermostat thin throb thrum thud thug tightlip tin tinsel tip tittup toecap tog tom tomorrow top tot total towel traget trainspot tram trammel transfer tranship transit transmit transship trap travel trek trendset trim trip tripod trod trog trot trousseaushop trowel trup tub tug tunnel tup tut twat twig twin twit typeset tyset un-man unban unbar unbob uncap unclip uncompel undam under-bil under-cut under-fit under-pin under-skil underbid undercut underlet underman underpin unfit unfulfil unknot unlip unlywil unman unpad unpeg unpin unplug unravel unrol unscrol unsnap unstal unstep unstir untap unwrap unzip up upset upskil upwel ven verbal vet victual vignet wad wag wainscot wan war water-log waterfal waterfil waterlog weasel web wed wet wham whet whip whir whiteskin whiz whup wildcat win windmil wit woodchop woodcut wor worship wrap wiretap yen yak yap yarnspin yip yodel zag zap zig zig-zag zigzag zip ztrip hand-bag hocus hocus-pocus".split(" "),
ka={name:"PAST_PARTICIPLE",defaultRule:new b("^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",0,"ed",2),rules:ga,doubling:!1},la={name:"ING_FORM",defaultRule:new b("^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",0,"ing",2),rules:M,doubling:!1},ma={name:"PAST_TENSE",defaultRule:new b("^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",0,"ed",2),rules:ha,doubling:!1},na={name:"PRESENT_TENSE",defaultRule:new b("^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",0,"s",2),rules:ia,doubling:!0};dump=function(a){var f="",d;for(d in a)f+=
d+": ",f=a[d]instanceof Function?f+"function()":f+a.propertyName,f+=", ";return f};var j=z();j.FEATURE_DELIM=":";j.STRESSED="1";j.UNSTRESSED="0";j.PHONEME_BOUNDARY="-";j.WORD_BOUNDARY=" ";j.SYLLABLE_BOUNDARY="/";j.SENTENCE_BOUNDARY="|";j.VOWELS="aeiou";j.data=A;j.clear=function(){j.data=A};j.prototype={__init__:function(){j.data||("undefined"!=typeof RiTa_DICTIONARY?(RiTa.SILENT||console.log("[RiTa] Loaded lexicon data..."),j.data=RiTa_DICTIONARY):w('Dictionary not found! Make sure to add it to your .html:, e.g.,\n\n    <script src="path/to/rita_dict.js"><\/script>'))}.expects(),
addWord:function(a,f,d){j.data[a.toLowerCase()]=[f,d];return this}.expects(["string","string","string"]).returns("object"),removeWord:function(a){delete j.data[a];return this}.expects(["string"]).returns("object"),similarByLetter:function(a,f,d){var b=Number.MAX_VALUE,e=[];if(!a||!a.length)return[];var a=a.toLowerCase(),f=f||1,d=d||!1,c;for(c in j.data)if(!(d&&c.length!=a.length||2>c.length))if(c=c.toLowerCase(),!(c==a||c==a+"s"||c==a+"es")){var g=T.computeRaw(c,a);0!=g&&(g>=f&&g<b?(b=g,e=[c]):g==
b&&e.push(c))}return e}.expects(["string"],["string","number"],["string","number","boolean"]).returns("array"),similarBySound:function(a,f){var d=Number.MAX_VALUE,b,e=[],f=f||1,c=this.getPhonemes(a.toLowerCase()).split("-");if(null==c[0]||!a||!a.length)return[];for(b in j.data)if(!(2>b.length)&&(b=b.toLowerCase(),!(b==a||b==a+"s"||b==a+"es"))){var g=this.getRawPhones(b);if(!g.length)throw Error("Failed lookup (need LTSEngine): "+b);g=g.replace(/1/g,"").replace(/ /g,"-").split("-");g=T.computeRaw(g,
c);0!=g&&(g>=f&&g<d?(d=g,e=[b]):g==d&&e.push(b))}return e}.expects(["string"],["string","number"]).returns("array"),substrings:function(a,f){var f=f||0===f||4,d,b=[];for(d in j.data)d==a||d.length<f||0<=a.indexOf(d)&&b.push(d);return b}.expects(["string"],["string","number"]).returns("array"),superstrings:function(a){var f,d=[];for(f in j.data)f!=a&&0<=f.indexOf(a)&&d.push(f);return d}.expects(["string"]).returns("array"),similarBySoundAndLetter:function(a,f){var d=[];if(l(f))var b=this.similarBySound(a),
e=this.similarByLetter(a);else b=this.similarBySound(a,f),e=this.similarByLetter(a,f);if(l(b)||l(e))return d;for(var c=0;c<b.length;c++)for(var g=0;g<e.length;g++)b[c]==e[g]&&d.push(e[g]);return d}.expects(["string"],["string","number"]).returns("array"),getWords:function(){var a=arguments,f=!1,d=A,b=[],e=Object.keys(j.data);switch(a.length){case 2:"boolean"==n(a[0])?(f=a[0],d="regexp"==n(a[1])?a[1]:RegExp(a[1])):(f=a[1],d="regexp"==n(a[0])?a[0]:RegExp(a[0]));break;case 1:if("boolean"==n(a[0]))return a[0]?
D(e):Object.keys(e);d="regexp"==n(a[0])?a[0]:RegExp(a[0]);break;case 0:return D(e)}for(a=0;a<e.length;a++)e[a].match(d)&&b.push(e[a]);return f?D(b):b}.expects([],["string"],["boolean"],["string","boolean"],["boolean","string"],["regexp"],["regexp","boolean"],["boolean","regexp"]).returns("array"),isVowel:function(a){return s(a)&&-1<j.VOWELS.indexOf(a)}.expects(["string"]).returns("boolean"),isConsonant:function(a){return"string"==typeof a&&1==a.length&&0>j.VOWELS.indexOf(a)&&/^[a-z\u00C0-\u00ff]+$/.test(a)}.expects(["string"]).returns("boolean"),
containsWord:function(a){return s(a)&&!l(j.data[a.toLowerCase()])}.expects(["string"]).returns("boolean"),isRhyme:function(a,f){if(!s(a)||!s(f)||a.toLowerCase()==f.toLowerCase())return!1;var d=this.lastStressedPhoneToEnd(a),b=this.lastStressedPhoneToEnd(f);return s(d)&&s(b)&&d===b}.expects(["string","string"]).returns("boolean"),getRhymes:function(a){if(this.containsWord(a)){var f=this.lastStressedPhoneToEnd(a),b,c,e=[];for(b in j.data)b!==a&&(c=this.getRawPhones(b),s(c)&&v(c,f)&&e.push(b));return 0<
e.length?e:[]}return[]}.expects(["string"]).returns("array"),getAlliterations:function(a){if(this.containsWord(a)){var f,b=[],c=this.firstConsonant(this.firstStressedSyllable(a));for(f in j.data)(a=this.firstConsonant(this.firstStressedSyllable(f)))&&c===a&&b.push(f);return 0<b.length?b:[]}return[]}.expects(["string"]).returns("array"),isAlliteration:function(a,f){if(!s(a)||!s(f))return!1;if(a.toLowerCase()==f.toLowerCase())return!0;var b=this.firstConsonant(this.firstStressedSyllable(a)),c=this.firstConsonant(this.firstStressedSyllable(f));
return s(b)&&s(c)&&b===c}.expects(["string","string"]).returns("boolean"),firstStressedSyllable:function(a){var f=this.getRawPhones(a),a=-1,b;if(!s(f))return"";a=f.indexOf(j.STRESSED);if(0>a)return"";for(b=f.charAt(--a);" "!=b;){if(0>--a){a=0;break}b=f.charAt(a)}f=0===a?f:m(f.substring(a));a=f.indexOf(" ");return 0>a?f:f.substring(0,a)}.expects(["string"]).returns("string"),getSyllables:function(a){if(!a||!a.length)return"";for(var a=RiTa.tokenize(m(a)),f=[],b=0;b<a.length;b++)f[b]=this.getRawPhones(a[b]).replace(/ /g,
"/");return B(f).replace(/1/g,"").trim()}.expects(["string"]).returns("string"),getPhonemes:function(a){if(!a||!a.length)return"";for(var a=RiTa.tokenize(m(a)),f=[],b=0;b<a.length;b++)if(!RiTa.isPunctuation(a[b])){f[b]=this.getRawPhones(a[b]);if(!f[b].length)throw Error("Unable to lookup (need LTSEngine): "+a[b]);f[b]=f[b].replace(/ /g,"-")}return B(f).replace(/1/g,"").trim()}.expects(["string"]).returns("string"),getStresses:function(a){if(!a||!a.length)return"";for(var f=RiTa.tokenize(m(a)),a=[],
b=[],c=0;c<f.length;c++)RiTa.isPunctuation(f[c])||(b[c]=this.getRawPhones(f[c]));for(c=0;c<b.length;c++)if(b[c])for(var f=b[c].split(u),e=0;e<f.length;e++){var i=-1<f[e].indexOf(j.STRESSED)?j.STRESSED:j.UNSTRESSED;0<e&&(i="/"+i);a.push(i)}return a.join(" ").replace(/ \//g,"/")}.expects(["string"]).returns("string"),getLexicalData:function(){return j.data}.expects().returns("object"),setLexicalData:function(a){j.data=a;return j.data}.expects(["object"]).returns("object"),lookupRaw:function(a){a=a.toLowerCase();
if(j.data[a])return j.data[a];console.warn("[RiTa] No lexicon entry for '"+a+"'");return[]}.expects(["string"]).returns("array"),getRawPhones:function(a){return(a=this.lookupRaw(a))&&2==a.length?a[0]:""}.expects(["string"]).returns("string"),getPosData:function(a){return(a=this.lookupRaw(a))&&2==a.length?a[1]:""}.expects(["string"]).returns("string"),getPosArr:function(a){a=this.getPosData(a);return!s(a)?[]:a.split(u)}.expects(["string"]).returns("array"),firstConsonant:function(a){if(!s(a))return"";
a=a.split(j.PHONEME_BOUNDARY);if(!l(a))for(var f=0;f<a.length;f++)if(this.isConsonant(a[f].charAt(0)))return a[f];return""}.expects(["string"]).returns("string"),lastStressedPhoneToEnd:function(a){if(!s(a))return"";var f,b=this.getRawPhones(a);if(!s(b))return"";a=b.lastIndexOf(j.STRESSED);if(0>a)return"";for(f=b.charAt(--a);"-"!=f&&" "!=f;){if(0>--a)return b;f=b.charAt(a)}return b.substring(a+1)}.expects(["string"]).returns("string"),getRandomWord:function(a,f){var b=!1,c=arguments,e=Object.keys(j.data),
i=Math.floor(Math.random()*Object.keys(j.data).length),g=D(e);switch(c.length){case 2:c[0]=m(c[0].toUpperCase());for(e=0;e<r.TAGS.length;e++)r.TAGS[e]==c[0]&&(b=!0);if(b)for(b=0;b<g.length;b++)if(e=this.lookupRaw(g[b]),i=RiTa.getPosTags(g[b]),e[0].split(" ").length==c[1]&&c[0]==i[0].toUpperCase())return g[b];break;case 1:if("string"==n(c[0])){c[0]=m(c[0].toUpperCase());for(e=0;e<r.TAGS.length;e++)r.TAGS[e]==c[0]&&(b=!0);if(b)for(b=0;b<g.length;b++)if(i=RiTa.getPosTags(g[b]),c[0]==i[0].toUpperCase())return g[b]}else for(b=
0;b<g.length;b++)if(e=this.lookupRaw(g[b]),e[0].split(" ").length==c[0])return g[b];break;case 0:return e[i]}return""}.expects(["string"],[],["number"],["string","number"]).returns("string")};z().prototype={__init__:function(a){this.id=a},analyze:function(){w("implement me!")}};var F=z();F.prototype={__init__:function(){this.perfect=this.progressive=this.passive=this.interrogative=!1;this.tense=RiTa.PRESENT_TENSE;this.person=RiTa.FIRST_PERSON;this.number=RiTa.SINGULAR;this.form=RiTa.NORMAL;this.head=
""},conjugate:function(a,f){if(!s(a))return"";var b=null,c=[],e=a;f.number&&(this.number=f.number);f.person&&(this.person=f.person);f.tense&&(this.tense=f.tense);f.form&&(this.form=f.form);f.passive&&(this.person=f.passive);f.progressive&&(this.progressive=f.progressive);f.perfect&&(this.perfect=f.perfect);this.form==RiTa.INFINITIVE&&(b="to");this.tense==RiTa.FUTURE_TENSE&&(b="will");this.passive&&(this.conjs.push(this.getPastParticiple(this.frontVG)),this.frontVG="be");this.progressive&&(c.push(this.getPresentParticiple(e)),
e="be");this.perfect&&(c.push(this.getPastParticiple(e)),e="have");b&&(c.push(e),e=null);if(e){if(this.form===RiTa.GERUND)e=this.getPresentParticiple(e);else if(!this.interrogative||!("be"!=a&&1>c.length))e=this.getVerbForm(e,this.tense,this.person,this.number);c.push(e)}b&&c.push(b);b="";for(e=0;e<c.length;e++)b=c[e]+" "+b;v(b,"peted")&&w("Unexpected output: "+this.toString());return m(b)},checkRules:function(a,f){l(a)&&w("no ruleset");var b=a.rules,c=a.defaultRule||null;if(y(X,f))return f;for(var e=
0;e<b.length;e++)if(b[e].applies(f))return b[e].fire(f);if(a.doubling||y(ja,f))f=this.doubleFinalConsonant(f);return c.fire(f)},doubleFinalConsonant:function(a){var f=a.charAt(a.length-1);return a+f},getPast:function(a,f,b){if("be"==a.toLowerCase())switch(b){case RiTa.SINGULAR:switch(f){case RiTa.THIRD_PERSON:return"was";case RiTa.SECOND_PERSON:return"were"}break;case RiTa.PLURAL:return"were"}return this.checkRules(ma,a)},getPresent:function(a,f,b){f=l(f)?this.person:f;b=l(b)?this.number:b;if(f==
RiTa.THIRD_PERSON&&b==RiTa.SINGULAR)return this.checkRules(na,a);if("be"==a)if(b==RiTa.SINGULAR)switch(f){case RiTa.FIRST_PERSON:return"am";case RiTa.SECOND_PERSON:return"are";case RiTa.THIRD_PERSON:return"is"}else return"are";return a},getPresentParticiple:function(a){return this.checkRules(la,a)},getPastParticiple:function(a){return this.checkRules(ka,a)},getVerbForm:function(a,f,b,c){switch(f){case RiTa.PRESENT_TENSE:return this.getPresent(a,b,c);case RiTa.PAST_TENSE:return this.getPast(a,b,c);
default:return a}},getPerson:function(){return CONJUGATION_NAMES[this.person]},getNumber:function(){return CONJUGATION_NAMES[this.number]},getTense:function(){return CONJUGATION_NAMES[this.tense]},getVerb:function(){return this.head},isPassive:function(){return this.passive},isPerfect:function(){return this.perfect},isProgressive:function(){return this.progressive},setPerson:function(a){this.person=a},setNumber:function(a){this.number=a},setTense:function(a){this.tense=a},setVerb:function(a){a=this.head=
a.toLowerCase();if("am"===a||"are"===a||"is"===a||"was"===a||"were"===a)this.head="be"},setPassive:function(a){this.passive=a},setPerfect:function(a){this.perfect=a},setProgressive:function(a){this.progressive=a},toString:function(){return"  ---------------------\n  Passive = "+this.isPassive()+"\n  Perfect = "+this.isPerfect()+"\n  Progressive = "+this.isProgressive()+"\n  ---------------------\n  Number = "+this.getNumber()+"\n  Person = "+this.getPerson()+"\n  Tense = "+this.getTense()+"\n  ---------------------\n"},
conjugateAll:function(a){var b=[],d,c,e,i,g,q;this.setVerb(a);for(d=0;d<TENSES.length;d++){this.setTense(TENSES[d]);for(c=0;c<NUMBERS.length;c++){this.setNumber(NUMBERS[c]);for(e=0;e<PERSONS.length;e++){this.setPerson(PERSONS[e]);for(i=0;2>i;i++){this.setPassive(0==i?!0:!1);for(g=0;2>g;g++){this.setProgressive(0==g?!0:!1);for(q=0;2>q;q++)this.setPerfect(0==q?!0:!1),b.push(this.conjugate(a))}}}}}return b}};var r={UNKNOWN:["???","UNKNOWN"],N:["N","NOUN_KEY"],V:["V","VERB_KEY"],R:["R","ADVERB_KEY"],
A:["A","ADJECTIVE_KEY"],CC:["CC","Coordinating conjunction"],CD:["CD","Cardinal number"],DT:["DT","Determiner"],EX:["EX","Existential there"],FW:["FW","Foreign word"],IN:["IN","Preposition or subordinating conjunction"],JJ:["JJ","Adjective"],JJR:["JJR","Adjective, comparative"],JJS:["JJS","Adjective, superlative"],LS:["LS","List item marker"],MD:["MD","Modal"],NN:["NN","Noun, singular or mass"],NNS:["NNS","Noun, plural"],NNP:["NNP","Proper noun, singular"],NNPS:["NNPS","Proper noun, plural"],PDT:["PDT",
"Predeterminer"],POS:["POS","Possessive ending"],PRP:["PRP","Personal pronoun"],PRP$:["PRP$","Possessive pronoun (prolog version PRP-S)"],RB:["RB","Adverb"],RBR:["RBR","Adverb, comparative"],RBS:["RBS","Adverb, superlative"],RP:["RP","Particle"],SYM:["SYM","Symbol"],TO:["TO","to"],UH:["UH","Interjection"],VB:["VB","Verb, base form"],VBD:["VBD","Verb, past tense"],VBG:["VBG","Verb, gerund or present participle"],VBN:["VBN","Verb, past participle"],VBP:["VBP","Verb, non-3rd person singular present"],
VBZ:["VBZ","Verb, 3rd person singular present"],WDT:["WDT","Wh-determiner"],WP:["WP","Wh-pronoun"],WP$:["WP$","Possessive wh-pronoun (prolog version WP-S)"],WRB:["WRB","Wh-adverb"],TAGS:"CC CD DT EX FW IN JJ JJR JJS LS MD NN NNS NNP NNPS PDT POS PRP PRP$ RB RBR RBS RP SYM TO UH VB VBD VBG VBN VBP VBZ WDT WP WP$ WRB UNKNOWN".split(" "),NOUNS:["NN","NNS","NNP","NNPS"],VERBS:"VB VBD VBG VBN VBP VBZ".split(" "),ADJ:["JJ","JJR","JJS"],ADV:["RB","RBR","RBS","RP"],isVerb:function(a){return y(this.VERBS,
a.toUpperCase())},isNoun:function(a){return y(this.NOUNS,a.toUpperCase())},isAdverb:function(a){return y(this.ADV,a.toUpperCase())},isAdj:function(a){return y(this.ADJ,a.toUpperCase())},isTag:function(a){return y(this.TAGS,a)},hasTag:function(a,b){return-1<a.join().indexOf(b)},__getLexicon__:function(){var a;try{a=new j}catch(b){w("No RiTa lexicon found! Have you included 'rita_dict.js'?")}this.__getLexicon__=function(){return a};return a},tag:function(a){var b=[],d=[];a instanceof Array||(a=[a]);
for(var c=this.__getLexicon__(),e=0,i=a.length;e<i;e++){var g=a[e],q=c.getPosArr(g);if(l(q)||0==q.length){if(1==g.length){var q=b,h=e,j;j=g.charAt(0);j=!isNaN(parseFloat(j))&&isFinite(j);q[h]=j?"cd":g}else b[e]="nn";d[e]=null}else b[e]=q[0],d[e]=q}return this.__applyContext__(a,b,d)}.expects(["array"],["string"]).returns("array"),__applyContext__:function(a,b,d){for(var c=C,e=0,i=a.length;e<i;e++){var g=a[e].charAt(0);0<e&&"dt"==b[e-1]&&(c(b[e],"vb")?(E("BrillPosTagger: changing verb to noun: "+a[e]),
b[e]="nn"):c(b[e],"rb")&&(E("BrillPosTagger:  custom tagged '"+a[e]+"', "+b[e]),b[e]=2<b[e].length?"jj"+b[e].charAt(2):"jj",E(" -> "+b[e])));c(b[e],"n")&&null==d[e]&&!isNaN(parseFloat(a[e]))&&isFinite(a[e])&&(b[e]="cd");c(b[e],"n")&&v(a[e],"ed")&&(b[e]="vbn");v(a[e],"ly")&&(b[e]="rb");c(b[e],"nn")&&v(a[e],"al")&&(b[e]="jj");0<e&&(c(b[e],"nn")&&"would"==a[e-1].toLowerCase())&&(b[e]="vb");"nn"==b[e]&&v(a[e],"s")&&(b[e]="nns");c(b[e],"nn")&&v(a[e],"ing")&&(this.hasTag(d[e],"vb")?b[e]="vbg":E("[INFO] BrillPosTagger tagged '"+
a[e]+"' as "+b[e]));0<e&&(c(b[e],"nn")&&1<a[e].length&&g==g.toUpperCase())&&(b[e]=v(b[e],"s")?"nnps":"nnp");e<b.length-1&&("nns"==b[e]&&c(b[e+1],"rb")&&this.hasTag(d[e],"vbz"))&&(b[e]="vbz")}return b}.returns("array")},G=z();G.prototype={__init__:function(a){this.text=a}.expects(["string"]),endsWith:function(a){return v(this.text,a)}.expects(["string"]).returns("boolean"),equals:function(a){return a.text===this.text}.expects(["object"]).returns("boolean"),equalsIgnoreCase:function(a){return"string"===
typeof a?a.toLowerCase()===this.text.toLowerCase():a.getText().toLowerCase()===this.text.toLowerCase()}.expects(["string"],["object"]).returns("boolean"),setText:function(a){this.text=a;return this}.expects(["string"]).returns("object"),pos:function(){for(var a=RiTa.tokenize(m(this.text)),b=r.tag(a),d=0,c=b.length;d<c;d++)s(b[d])||w("RiString: can't parse pos for:"+a[d]);return b}.expects().returns("array"),posAt:function(a){var b=this.pos();return l(b)||0==b.length||0>a||a>=b.length?"":b[a]}.expects(["number"]).returns("string"),
getText:function(){return this.text}.expects().returns("string"),wordAt:function(a){var b=RiTa.tokenize(m(this.text));return 0>a||a>=b.length?"":b[a]}.expects(["number"]).returns("string"),wordCount:function(){return this.words().length}.expects().returns("number"),words:function(){return RiTa.tokenize(this.text)}.expects().returns("array"),indexOf:function(a,b){return this.text.indexOf(a,b)}.expects(["string"],["string","number"]).returns("number"),insertWordAt:function(a,b){var d=this.words();a&&
(a.length&&0<=b&&b<d.length)&&(d.splice(b,0,":DeLiM:"+a+":DeLiM:"),this.setText(B(d)).replaceAll(":DeLiM:",""));return this}.expects(["string","number"]).returns("object"),lastIndexOf:function(a,b){return this.text.lastIndexOf(a,b)}.expects(["string"],["string","number"]).returns("number"),length:function(){return this.text.length}.expects().returns("number"),match:function(){return this.text.match(substr)}.expects(["string"]).returns("array"),slice:function(a,b){return this.setText(this.text.slice(a,
b))}.expects(["number"],["number","number"]).returns("object"),replaceAll:function(a,b){if(a&&(b||""===b))this.text=this.text.replace(RegExp(a,"g"),b);return this}.expects(["object","string"],["string","string"]).returns("object"),replaceCharAt:function(a,b){if(0>a||a>=this.length())return this;var d=this.getText(),c=d.substring(0,a),d=d.substring(a+1);return this.setText(b?c+b+d:c+d)}.expects(["number","string"]).returns("object"),replaceFirst:function(a,b){l(b)||(this.text=this.text.replace(a,b));
return this}.expects(["string","string"]).returns("object"),replaceWordAt:function(a,b){var d=this.words();0<=a&&a<d.length&&(d[a]=b,this.setText(B(d)));return this}.expects(["number","string"]).returns("object"),split:function(a,b){for(var d=this.text.split(a,b),c=[],e=0;e<d.length;e++)l(d[e])||c.push(new G(d[e]));return c}.expects(["string"],["string","number"],[]).returns("array"),startsWith:function(a){return 0==this.indexOf(a)}.expects(["string"]).returns("boolean"),substr:function(a,b){return this.setText(this.text.substr(a,
b))}.expects(["number"],["number","number"]).returns("object"),substring:function(a,b){return this.setText(this.text.substring(a,b))}.expects(["number"],["number","number"]).returns("object"),toCharArray:function(){for(var a=this.text.split(""),b=[],d=0;d<a.length;d++)l(a[d])||b.push(a[d]);return b}.expects().returns("array"),toLowerCase:function(){return this.setText(this.text.toLowerCase())}.expects().returns("object"),toString:function(){return"RiString["+this.text+"]"}.expects().returns("string"),
containsWord:function(a){return-1<this.indexOf(a)}.expects(["string"]).returns("boolean"),toUpperCase:function(){return this.setText(this.text.toUpperCase())}.expects().returns("object"),trim:function(){return this.setText(m(this.text))}.expects().returns("object"),charAt:function(a){return 0>a||a>this.text.length-1?"":this.text.charAt(a)}.expects(["number"]).returns("string"),concat:function(a){return setText(this.text.concat(a.getText()))}.expects(["object"]).returns("object"),removeCharAt:function(a){return this.setText(this.text.substring(0,
a).concat(this.text.substring(a+1)))}.expects(["number"]).returns("object")};var o=z();o.START_RULE="<start>";o.OPEN_RULE_CHAR="<";o.CLOSE_RULE_CHAR=">";o.PROB_PATT=/(.*[^\s])\s*\[([0-9.]+)\](.*)/;o.OR_PATT=/\s*\|\s*/;o.EXEC_PATT=/`[^`]+`/g;o.STRIP_TICKS=/`([^`]+)`/g;o.execDisabled=function(a){1==arguments.length&&(o._execDisabled=a);return o._execDisabled};o.prototype={_execDisabled:!1,__init__:function(a){l(a)?this.rules={}:this.setGrammar(a)}.expects(["string"],["object"],[]),load:function(){this.reset();
w("Implement me!");return this}.expects(["string"]).returns("object"),setGrammar:function(a){this.reset();"string"===typeof a&&(a=JSON.parse(a));for(var b in a)this.addRule(b,a[b]);return this}.expects(["string"],["object"],[]).returns("object"),getRules:function(){return this.rules}.expects().returns("object"),removeRule:function(a){a=this.__normalizeRuleName(a);delete this.rules[a];return this}.expects(["string"]).returns("object"),clone:function(){var a=o(),b;for(b in this.rules)a.rules[b]=this.rules[b];
return a}.expects().returns("object"),addRule:function(a,b,d){for(var d=l(d)?1:d,a=this.__normalizeRuleName(a),b=b.split(o.OR_PATT),c=0;c<b.length;c++){var e=b[c],i=d,g=o.PROB_PATT.exec(e);null!=g&&(e=g[1]+g[3],i=g[2]);this.hasRule(a)?this.rules[a][e]=i:(g={},g[e]=i,this.rules[a]=g)}return this}.expects(["string","string"],["string","string","number"]).returns("object"),reset:function(){this.rules={};return this}.expects().returns("object"),getRule:function(a){var a=this.__normalizeRuleName(a),b=
this.rules[a],d,c=0;for(d in b)c++;if(1==c)return d;if(1<c)return this.__getStochasticRule(b);w("No rule found for: "+a)}.expects(["string"]).returns("string"),print:function(){console.log("Grammar----------------");for(var a in this.rules){console.log("  '"+a+"' -> ");var b=this.rules[a],d;for(d in b)console.log("    '"+d+"' ["+b[d]+"]")}console.log("-----------------------");return this}.expects().returns("object"),hasRule:function(a){a=this.__normalizeRuleName(a);return"undefined"!==typeof this.rules[a]}.expects(["string"]).returns("boolean"),
expand:function(){return this.expandFrom(o.START_RULE)}.expects().returns("string"),expandWith:function(a,b){var d=this.clone(),c=!1,e;for(e in d.rules)e===b&&(c={},c[a]=1,d.rules[e]=c,c=!0);if(!c)throw Error("Rule '"+b+"' not found in grammar");return d.expand()}.expects(["string","string"]).returns("string"),handleExec:function(a){if(!a||!a.length)return"";var b=a.replace(o.STRIP_TICKS,"$1");try{a=eval(b)}catch(d){I("Error evaluating: "+a+" ignoring backticks\n  "+d.message)}return a},expandFrom:function(a){this.hasRule(a)||
(I("Rule not found: "+a+"\nRules: "),!RiTa.SILENT&&this.print());for(var b=0;1E3>++b;){var d=this.__expandRule(a);if(!d){!this._execDisabled&&(a=a.replace(o.EXEC_PATT,this.handleExec));break}a=d}1E3<=b&&I("max number of iterations reached: 1000");return a}.expects(["string"]).returns("string"),__expandRule:function(a){for(var b in this.rules){var d=a.indexOf(b);if(0<=d){var c=a.substring(0,d),e=this.getRule(b),a=a.substring(d+b.length);return c+e+a}}},__normalizeRuleName:function(a){if(!s(a))return a;
C(a,o.OPEN_RULE_CHAR)||(a=o.OPEN_RULE_CHAR+a);v(a,o.CLOSE_RULE_CHAR)||(a+=o.CLOSE_RULE_CHAR);return a},__getStochasticRule:function(a){var b=Math.random(),d,c=0,e;for(e in a)c+=parseFloat(a[e]);for(e in a){var i=a[e]/c;if(b<i){d=e;break}else b-=i}return d}};RiTa={VERSION:12,P5_COMPATIBLE:!0,FIRST_PERSON:0,SECOND_PERSON:1,THIRD_PERSON:2,PAST_TENSE:3,PRESENT_TENSE:4,FUTURE_TENSE:5,SINGULAR:6,PLURAL:7,NORMAL:0,INFINITIVE:1,GERUND:2,IMPERATIVE:3,BARE_INFINITIVE:4,SUBJUNCTIVE:5,ABBREVIATIONS:"Adm. Capt. Cmdr. Col. Dr. Gen. Gov. Lt. Maj. Messrs. Mr. Mrs. Ms. Prof. Rep. Reps. Rev. Sen. Sens. Sgt. Sr. St. a.k.a. c.f. i.e. e.g. vs. v. Jan. Feb. Mar. Apr. Mar. Jun. Jul. Aug. Sept. Oct. Nov. Dec.".split(" "),
SILENT:!1,random:function(){var a=Math.random();if(0===arguments.length)return a;if(1===arguments.length)return a*arguments[0];var b=arguments[0];return a*(arguments[1]-b)+b}.expects([],["number"],["number","number"]).returns("number"),distance:function(a,b,d,c){a-=d;b-=c;return Math.sqrt(a*a+b*b)}.expects(["number","number","number","number"]).returns("number"),timer:function(a,b){return setInterval(function(){x(RiTa,"tick").fire(b)},1E3*a)},isVerb:function(a){a&&-1!=a.indexOf(" ")&&w("Only accepts a single word");
a=RiTa.getPosTags(a);return r.isVerb(a.toString())}.expects(["string"]).returns("boolean"),isNoun:function(a){a&&-1!=a.indexOf(" ")&&w("Only accepts a single word");a=RiTa.getPosTags(a);return r.isNoun(a.toString())}.expects(["string"]).returns("boolean"),isAdverb:function(a){a&&-1!=a.indexOf(" ")&&w("Only accepts a single word");a=RiTa.getPosTags(a);return r.isAdverb(a.toString())}.expects(["string"]).returns("boolean"),isAdjective:function(a){a&&-1!=a.indexOf(" ")&&w("Only accepts a single word");
a=RiTa.getPosTags(a);return r.isAdj(a.toString())}.expects(["string"]).returns("boolean"),isPosTag:function(a){return r.isTag(a)}.expects(["string"]).returns("boolean"),tagForWordNet:function(a){var b=RiTa.getPosTags(a);if(!l(a)&&b.length){for(a=0;a<b.length;a++){var d=b[a];r.isNoun(d)&&(b[a]="n");r.isVerb(d)&&(b[a]="v");r.isAdverb(d)&&(b[a]="r");r.isAdj(d)&&(b[a]="a")}return b}return[]}.expects(["array"],["string"]).returns("array"),getPosTags:function(a){a=RiTa.tokenize(m(a));return r.tag(a)}.expects(["array"],
["string"]).returns("array"),getPosTagsInline:function(a){return RiTa.getPosTags(a).join(" ")}.expects(["array"],["string"]).returns("string"),posToWordNet:function(a){var b=a,d=!1;return!l(a)?(r.isNoun(b)&&(b="n",d=!0),r.isVerb(b)&&(b="v",d=!0),r.isAdverb(b)&&(b="r",d=!0),r.isAdj(b)&&(b="a",d=!0),d||(b="-"),b):""}.expects(["string"]).returns("string"),getPresentParticiple:function(a){return F().getPresentParticiple(a)}.expects(["string"]).returns("string"),getPastParticiple:function(a){return F().getPastParticiple(a)}.expects(["string"]).returns("string"),
conjugate:function(a,b){return F().conjugate(a,b)}.expects(["string","object"]).returns("string"),pluralize:function(a){if(l(a)||!a.length)return"";var b,d;if(y(X,a.toLowerCase()))return a;for(b=W.length;b--;)if(d=W[b],d.applies(a.toLowerCase()))return d.fire(a);return fa.fire(a)}.expects(["string"]).returns("string"),singularize:function(a){if(l(a)||!a.length)return"";throw Error("Implement me!");}.expects(["string"]).returns("string"),trim:function(a){return m(a)}.expects(["string"]).returns("string"),
tokenize:function(a,b){if(l(a)||!a.length)return[];if(!l(b))return a.split(b);a=a.replace(/``/g,"`` ");a=a.replace(/''/g,"  ''");a=a.replace(/([\\?!\"\\.,;:@#$%&])/g," $1 ");a=a.replace(/\\.\\.\\./g," ... ");a=a.replace(/\\s+/g,u);a=a.replace(/,([^0-9])/g," , $1");a=a.replace(/([^.])([.])([\])}>\"']*)\\s*$/g,"$1 $2$3 ");a=a.replace(/([\[\](){}<>])/g," $1 ");a=a.replace(/--/g," -- ");a=a.replace(/$/g,u);a=a.replace(/^/g,u);a=a.replace(/([^'])' /g,"$1 ' ");a=a.replace(/'([SMD]) /g," '$1 ");a=a.replace(/ ([Cc])annot /g,
" $1an not ");a=a.replace(/ ([A-Z]) \\./g," $1. ");a=a.replace(/\\s+/g,u);a=a.replace(/^\\s+/g,"");return m(a).split(/\s+/)}.expects(["string"],["string","object"],["string","string"]).returns("array"),splitSentences:function(a){if(l(a)||!a.length)return[];var b=a.match(/(\S.+?[.!?])(?=\s+|$)/g);return l(b)||0==b.length?[a]:b}.expects(["string"],["string","object"],["string","string"]).returns("array"),regexMatch:function(a,b){if(l(a)||l(b))return!1;"string"===typeof b&&(b=RegExp(b));return b.test(a)}.expects(["string",
"object"],["string","string"]).returns("boolean"),regexReplace:function(a,b,d){if(l(a)||l(b))return"";"string"===typeof b&&(b=RegExp(b));return a.replace(b,d)}.expects(["string","object","string"],["string","string","string"]).returns("string"),isAbbreviation:function(a){return y(this.ABBREVIATIONS,a)}.expects(["string"]).returns("boolean"),isQuestion:function(a){for(var a=RiTa.tokenize(m(a)),b=0;b<U.length;b++)if(a[0].toLowerCase()==U[b].toLowerCase())return!0;return!1}.expects(["string"]).returns("boolean"),
isSentenceEnd:function(a,b){if(l(a))return!1;var d=a.length;if(RiTa.isAbbreviation(a))return!1;var c=a.charAt(0);if(1<d&&-1!=c.indexOf("`'\"([{<")&&RiTa.isAbbreviation(a.substring(1))||2<d&&("'"==a.charAt(0)&&"'"==a.charAt(1)||"`"==a.charAt(0)&&"`"==a.charAt(1))&&RiTa.isAbbreviation(a.substring(2)))return!1;var c=a.charAt(d-1),e=1<d?a.charAt(d-2):" ",i=2<d?a.charAt(d-3):" ",g=b.length,h=b.charAt(0),j=1<g?b.charAt(1):" ",g=2<g?b.charAt(2):" ";return!(h==h.toUpperCase()||j==j.toUpperCase()&&-1!=h.indexOf("`'\"([{<")||
g==g.toUpperCase()&&("`"==h&&"`"==j||"'"==h&&"'"==j)||"_"==b||"<"==h)?!1:"?"==c||"!"==c||-1!=e.indexOf("?!.")&&-1!=c.indexOf("\"'}>)")||-1!=i.indexOf("?!.")&&"'"==e&&"'"==c?!0:"."!=c||2==d&&e==e.toUpperCase()||4==d&&"."==i&&e==e.toUpperCase()&&a.charAt(0)==a.charAt(0).toUpperCase()?!1:!0}.expects(["string","string"]).returns("boolean"),isW_Question:function(a){for(var a=RiTa.tokenize(m(a)),b=0;b<V.length;b++)if(a[0].toLowerCase()==V[b].toLowerCase())return!0;return!1}.expects(["string"]).returns("boolean"),
randomOrdering:function(a){for(var b=[],d=0;d<a.length;d++)b.push(d);for(var c,e,d=b.length;d;c=parseInt(Math.random()*d),e=b[--d],b[d]=b[c],b[c]=e);return b}.expects(["number"]).returns("array"),removeRandom:function(a){var b=Math.floor(Math.random()*a.length);console.log(a);console.log("i="+b);var d=a.slice((b||b)+1||a.length);a.length=0>b?a.length+b:b;a.push.apply(a,d);console.log(a);return a}.expects(["array"]).returns("array"),stripPunctuation:function(a){return a.replace(da,"")}.expects(["string"]).returns("string"),
trimPunctuation:function(a){for(;0<a.length;){var b=a.charAt(0);if(!RiTa.isPunctuation(b))break;a=a.substr(1)}for(;0<a.length;){b=a.charAt(a.length-1);if(!RiTa.isPunctuation(b))break;a=a.substring(0,a.length-1)}return a}.expects(["string"]).returns("string"),isPunctuation:function(a){return!a||!a.length?!1:ea.test(a)}.expects(["string"]).returns("boolean"),getPhonemes:function(a){return j.getPhonemes(a)}.expects(["string"],["array"]).returns("string"),getStresses:function(a){return j.getStresses(a)}.expects(["string"],
["array"]).returns("string"),getSyllables:function(a){return j.getSyllables(a)}.expects(["string"],["array"]).returns("string"),getWordCount:function(a){return RiTa.tokenize(a).length}.expects(["string"]).returns("number"),stem:function(a,b){var d="Porter"==(b||"Lancaster")?aa:ba;if(0>a.indexOf(u))return d(a);for(var a=a.replace(/[^\w]/g," "),a=a.replace(/\s+/g," "),c=[],e=a.split(" "),i=0;i<e.length;i++)c.push(d(e[i]));return c.join(u)}.expects(["string"],["string","string"]).returns("string")};
b=z();b.prototype={__init__:function(a){this.ctx=a},__getGraphics:function(){return this.ctx},__pushState:function(){this.ctx.save();return this},__popState:function(){this.ctx.restore();return this},__background:function(a,b,d,c){this.__fill(a,b,d,c);this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},__scale:function(a,b){this.ctx.scale(a,b,1)},__translate:function(a,b){this.ctx.translate(a,b,0)},__rotate:function(a){this.ctx.rotate(0,0,a)},__line:function(a,b,d,c,e){e=e||1;a=Math.round(a);
d=Math.round(d);b=Math.round(b);c=Math.round(c);this.ctx.save();if(a===d){if(b>c)var i=b,b=c,c=i;c++;1===e%2&&this.ctx.translate(0.5,0)}else b===c&&(a>d&&(i=a,a=d,d=i),d++,1===e%2&&this.ctx.translate(0,0.5));this.ctx.beginPath();this.ctx.moveTo(a||0,b||0);this.ctx.lineTo(d||0,c||0);this.ctx.lineWidth=e;this.ctx.stroke();this.ctx.restore()},__rect:function(a,b,d,c){this.__line(a,b,a+d,b);this.__line(a,b+c,a+d,b+c);this.__line(a,b,a,b+c);this.__line(a+d,b,a+d,b+c);this.ctx.fillRect(a+1,b+1,d-1,c-1)},
__size:function(a,b,d){this.ctx.canvas.width=a;this.ctx.canvas.height=b;d&&console.warn("Renderer arg ignored")},__createFont:function(a,b,d){return{name:a,size:b||c.defaults.font.size,leading:d||b*c.defaults.leadingFactor}},__width:function(){return this.ctx.canvas.width||200},__height:function(){return this.ctx.canvas.height||200},__fill:function(a,b,d,c){this.ctx.fillStyle="rgba("+Math.round(a)+","+Math.round(b)+","+Math.round(d)+","+c/255+")"},__stroke:function(a,b,d,c){this.ctx.strokeStyle="string"==
n(a)?a:"rgba("+Math.round(a)+","+Math.round(b)+","+Math.round(d)+","+c/255+")"},__textAlign:function(a){switch(a){case c.LEFT:this.ctx.textAlign="left";break;case c.CENTER:this.ctx.textAlign="center";break;case c.RIGHT:this.ctx.textAlign="right"}},__type:function(){return"Canvas"},__textFont:function(a){if("object"!=n(a))throw Error("__textFont expects object, but got: "+a);this.ctx.font="normal "+a.size+"px "+a.name},__textAscent:function(a){return this.__getMetrics(a).ascent},__textDescent:function(a){return this.__getMetrics(a).descent},
__text:function(a,b,d){this.ctx.baseline="alphabetic";this.ctx.fillText(a,b,d)},__textWidth:function(a,b){this.ctx.save();this.__textFont(a);var d=this.ctx.measureText(b).width;this.ctx.restore();return d},__textHeight:function(a){return this.__getBoundingBox(a).height},__getBoundingBox:function(a){this.ctx.save();this.__textFont(a._font);var b=this.ctx.measureText(a.text()).width,a=this.__getMetrics(a);this.ctx.restore();return{x:0,y:a.descent-1,width:b,height:a.ascent+a.descent+1}},__getMetrics:function(a){var b=
a._font,a=a.text(),b=$('<span style="font-size: '+b.size+"; font-family: "+b.name+'">'+a+"</span>"),a=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>'),d=$("<div></div>");d.append(b,a);$("body").append(d);try{var c={};a.css({verticalAlign:"baseline"});c.ascent=a.offset().top-b.offset().top+1;a.css({verticalAlign:"bottom"});var e=a.offset().top-b.offset().top;c.descent=e-c.ascent;c.ascent-=c.descent}finally{d.remove()}return c},toString:function(){return"RiText_"+this.__type}};
TextBehavior=function(a,b){var d=b||a,c={},e={},i=1E3,g=0,h=null,j=Easing.Linear.None,l=Interpolation.Linear,n=null,o=null,s=null;this.to=function(a,b){null!==b&&(i=b);e=a;return this};this.start=function(b){if(a)a._addBehavior(this);else throw Error("Unable to add tween");h=b!==A?b:Date.now();h+=g;for(var f in e)if(null===d[f])console.error("null value in interpolater for: "+f);else{if(e[f]instanceof Array){if(0===e[f].length)continue;e[f]=[d[f]].concat(e[f])}c[f]=d[f]}return this};this.stop=function(){a&&
a._removeBehavior(this);return this};this.delay=function(a){g=a;return this};this.easing=function(a){j=a;return this};this.interpolation=function(a){l=a;return this};this.chain=function(a){n=a;return this};this.onUpdate=function(a){o=a;return this};this.onComplete=function(a){s=a;return this};this.update=function(a){if(a<h)return!0;var a=(a-h)/i,a=1<a?1:a,b=j(a),f;for(f in c){var g=c[f],r=e[f];d[f]=r instanceof Array?l(r,b):g+(r-g)*b}null!==o&&o.call(d,b);return 1==a?(null!==s&&s.call(d),null!==n&&
n.start(),!1):!0}};Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*
a*a*a*a},Out:function(a){return--a*a*a*a*a+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return 0===a?0:Math.pow(1024,a-1)},Out:function(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-
Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){var b,d=0.1;if(0===a)return 0;if(1===a)return 1;!d||1>d?(d=1,b=0.1):b=0.4*Math.asin(1/d)/(2*Math.PI);return-(d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/0.4))},Out:function(a){var b,d=0.1;if(0===a)return 0;if(1===a)return 1;!d||1>d?(d=1,b=0.1):b=0.4*Math.asin(1/d)/(2*Math.PI);return d*Math.pow(2,-10*a)*Math.sin((a-b)*
2*Math.PI/0.4)+1},InOut:function(a){var b,d=0.1;if(0===a)return 0;if(1===a)return 1;!d||1>d?(d=1,b=0.1):b=0.4*Math.asin(1/d)/(2*Math.PI);return 1>(a*=2)?-0.5*d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/0.4):0.5*d*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/0.4)+1}},Back:{In:function(a){return a*a*(2.70158*a-1.70158)},Out:function(a){return--a*a*(2.70158*a+1.70158)+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},Bounce:{In:function(a){return 1-
Easing.Bounce.Out(1-a)},Out:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},InOut:function(a){return 0.5>a?0.5*Easing.Bounce.In(2*a):0.5*Easing.Bounce.Out(2*a-1)+0.5}}};Interpolation={Linear:function(a,b){var d=a.length-1,c=d*b,e=Math.floor(c),i=Interpolation.Utils.Linear;return 0>b?i(a[0],a[1],c):1<b?i(a[d],a[d-1],d-c):i(a[e],a[e+1>d?d:e+1],c-e)},Bezier:function(a,b){var d=0,c=a.length-1,e=Math.pow,
i=Interpolation.Utils.Bernstein,g;for(g=0;g<=c;g++)d+=e(1-b,c-g)*e(b,g)*a[g]*i(c,g);return d},CatmullRom:function(a,b){var d=a.length-1,c=d*b,e=Math.floor(c),i=Interpolation.Utils.CatmullRom;return a[0]===a[d]?(0>b&&(e=Math.floor(c=d*(1+b))),i(a[(e-1+d)%d],a[e],a[(e+1)%d],a[(e+2)%d],c-e)):0>b?a[0]-(i(a[0],a[0],a[1],a[1],-c)-a[0]):1<b?a[d]-(i(a[d],a[d],a[d-1],a[d-1],c-d)-a[d]):i(a[e?e-1:0],a[e],a[d<e+1?d:e+1],a[d<e+2?d:e+2],c-e)},Utils:{Linear:function(a,b,d){return(b-a)*d+a},Bernstein:function(a,
b){var d=Interpolation.Utils.Factorial;return d(a)/d(b)/d(a-b)},Factorial:function(){var a=[1];return function(b){var d=1,c;if(a[b])return a[b];for(c=b;1<c;c--)d*=c;return a[b]=d}}(),CatmullRom:function(a,b,d,c,e){var a=0.5*(d-a),c=0.5*(c-b),i=e*e;return(2*b-2*d+a+c)*e*i+(-3*b+3*d-2*a-c)*i+a*e+b}}};var c=z(),x=z();c.animator={loopId:-1,actualFPS:0,targetFPS:60,isLooping:!1,frameCount:0,loopStarted:!1,framesSinceLastFPS:0,callbackDisabled:!1,timeSinceLastFPS:Date.now()};c.timer=function(a,b){return RiTa.timer.apply(this,
arguments)};c.frameCount=function(){return c.animator.frameCount};c.noLoop=function(){var a=c.animator;a.isLooping=!1;a.loopStarted=!1;a.clearInterval(loopId)};c.loop=function(a,b){var d=arguments,k=c.animator,e=h.draw;if("Processing"!==c.renderer.__type()&&!k.loopStarted){switch(d.length){case 1:if(d[0]){var i=n(d[0]);"function"==i?e=d[0]:"number"==i&&(k.targetFPS=d[0])}break;case 2:d[0]&&(i=n(d[0]),"function"==i&&(e=d[0]),i=n(d[1]),"number"==i&&(k.targetFPS=d[1]))}k.timeSinceLastFPS=Date.now();
k.framesSinceLastFPS=0;mps=1E3/k.targetFPS;e&&!k.callbackDisabled&&(k.loopId=h.setInterval(function(){try{e();var a=(Date.now()-k.timeSinceLastFPS)/1E3,b=++k.framesSinceLastFPS/a;0.5<a&&(k.timeSinceLastFPS=Date.now(),k.framesSinceLastFPS=0,k.actualFPS=b);k.frameCount++}catch(d){throw k.callbackDisabled||(console.warn("Unable to invoke callback: "+e),k.callbackDisabled=!0),h.clearInterval(k.loopId),console.trace(this),d;}},mps),k.isLooping=!0,k.loopStarted=!0)}};c.width=function(){return c.renderer.__width()};
c.height=function(){return c.renderer.__height()};c.line=function(a,b,d,k,e){var i=c.renderer;i.__pushState();i.__line(a,b,d,k,e||1);i.__popState()};c.size=function(a,b){c.renderer.__size(a,b)};c.graphics=function(){return c.renderer.__getGraphics()};c.randomColor=function(a,b,d){var a=a||0,b=b||256,k=[c.random(a,b),c.random(a,b),c.random(a,b)];d&&k.push(c.random(a,b));return k};c.random=function(){return RiTa.random.apply(this,arguments)};c.background=function(a,b,d,k){var e,i,g,h=255,a="number"==
typeof a?a:255;3<=arguments.length&&(e=a,i=b,g=d);4==arguments.length&&(h=k);2>=arguments.length&&(g=i=e=a);2==arguments.length&&(h=b);c.renderer.__background(e,i,g,h)};c.mouse=function(a){var b=-1,d=-1;a||(a=h.event);!a&&!c.mouse.printedWarning&&(console.warn("Unable to determine mouse position without an event!"),c.mouse.printedWarning=!0);a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);a.pageY?d=a.pageY:a.clientY&&(d=a.clientY+document.body.scrollTop+
document.documentElement.scrollTop);return{x:b,y:d}};c.picked=function(a,b){for(var d=[],k=0;k<c.instances.length;k++){var e=c.instances[k];e.contains(a,b)&&d.push(e)}return d};c.dispose=function(a){if(a&&1==arguments.length)if("array"===n(a))S(a);else if("object"===n(a))Q(a);else throw Error("Unexpected type: "+a);};c.disposeAll=function(){for(var a=0;a<c.instances.length;a++)c.instances[a]&&(delete c.instances[a]._rs,delete c.instances[a]);c.instances=[]};c.createLines=function(a,b,d,k,e,i){for(var a=
a.replace(RegExp("[\r\n]","g"),u),a=a.replace(RegExp(" ?(<[^>]+>) ?","g")," $1 "),g=a.split(u),a=[],h=g.length-1;0<=h;h--)a.push(g[h]);if(!a.length)return[];var h=c.renderer,j=c.createLines;j.checkLineHeight=j.checkLineHeight||function(a,b,d){return a+b<=d};j.addLine=j.addLine||function(a,b){if(b&&b.length){for(;0<b.length&&v(b," ");)b=b.substring(0,b.length-1);a.push(b)}};var i=i||c._getDefaultFont(),g=new c("_",0,0,i),l=g.textHeight();c.dispose(g);for(var n=g=0,o=!1,s=!1,r=[],t=c.defaults.indentFirstParagraph?
c.defaults.paragraphIndent:"";0<a.length;){var m=a.pop();if(0!=m.length)if(C(m,"<")&&v(m,">"))if(m===c.NON_BREAKING_SPACE||"</sp>"===m)t+=u;else if(m===c.PARAGRAPH||"</p>"===m)0<t.length?o=!0:c.indentFirstParagraph&&(t+=c.defaults.paragraphIndent);else{if(v(m,c.LINE_BREAK)||"</br>"===m)s=!0}else if(n=h.__textWidth(i,t+m),!o&&!s&&n<k)t+=m+" ";else if(j.checkLineHeight(g,l,e))j.addLine(r,t),t="",o&&(t+=c.defaults.paragraphIndent,0<c.defaults.paragraphLeading&&(t+="|")),s=o=!1,t+=m+u,g+=l;else{null!=
m&&a.push(m);break}}if(j.checkLineHeight(g,l,e))j.addLine(r,t),t="";else{g=t.split(u);for(h=g.length-1;0<=h;h--)a.push(g[h])}r.length||w("Unexpected fail in createLines: no lines");b=Z(r,b,d+l,i);if(0<c.defaults.paragraphLeading)for(h=i=0;h<b.length;h++)k=b[h].text().indexOf("|"),-1<k&&(i+=c.defaults.paragraphLeading,b[h].removeCharAt(k)),b[h].y+=i;i=[];k=b[b.length-1];for(a=1;k.y>d+e;a++){i.push(k);k=b.length-1-a;if(0>k)break;k=b[k]}for(a=0;a<i.length;a++)R(b,i[a]);S(i);return b};c.createLinesByCharCount=
function(a,b,d,h,e){if(!h||0>h)h=Number.MAX_VALUE;if(null==a||0==a.length)return[];if(a.length<h)return[new c(a,b,d)];for(var a=a.replace(RegExp("\n","g")," "),i=[];a.length>h;){var g=a.substring(0,h),a=a.substring(h,a.length),j=g.lastIndexOf(" "),l="";0<=j&&(l=g.substring(j,g.length),h<Number.MAX_VALUE&&(l=l.trim()),g=g.substring(0,j));i.push(new c(g.trim(),b,d));a=l+a}0<a.length&&(h<Number.MAX_VALUE&&(a=a.trim()),i.push(new c(a,b,d)));return P(e,i,d)};c.defaultMotionType=function(a){1==arguments.length&&
(c.defaults.motionType=a);return c.defaults.motionType};c.showBoundingBoxes=function(a){1==arguments.length&&(c.defaults.boundingBoxVisible=a);return c.defaults.boundingBoxVisible};c.defaultFont=function(){var a=arguments;1==a.length&&"object"==typeof a[0]?c.defaults.font=a[0]:1<a.length&&(c.defaults.font=c.renderer.__createFont.apply(c.renderer,a));return c.defaults.font};c.createFont=function(a,b,d){if(!a)throw Error("RiText.createFont requires fontName");b=b||c.defaults.fontSize;return c.renderer.__createFont(a,
b,d)};c.defaultAlignment=function(a){1==arguments.length&&(c.defaults.alignment=a);return c.defaults.alignment};c.createWords=function(a,b,d,h,e,i){return createRiTexts(a,b,d,h,e,i,c.prototype.splitWords)};c.createLetters=function(a,b,d,h,e,i){return createRiTexts(a,b,d,h,e,i,c.prototype.splitLetters)};createRiTexts=function(a,b,d,h,e,i,g){if(!a||!a.length)return[];i=i||c._getDefaultFont();a=c.createLines(a,b,d,h,e,i);if(!a)return[];b=[];for(d=0;d<a.length;d++){h=g.call(a[d]);for(e=0;e<h.length;e++)b.push(h[e].font(i));
c.dispose(a[d])}return b};c.foreach=function(a){if(1==arguments.length&&"array"===n(array))for(var b=0;b<array.length;b++)array[b]&&array[b].theFunction();else for(b=0;b<c.instances.length;b++)c.instances[b]&&c.instances[b].theFunction()};c.drawAll=function(a){if(1==arguments.length&&"array"===n(a))for(var b=0;b<a.length;b++)a[b]&&a[b].draw();else for(b=0;b<c.instances.length;b++)c.instances[b]&&c.instances[b].draw()};c.defaultColor=function(a,b,d,h){arguments.length&&(c.defaults.color=J.apply(this,
arguments));return c.defaults.color};c._getDefaultFont=function(){c.defaults.font=c.defaults.font||c.renderer.__createFont(c.defaults.fontFamily,c.defaults.fontSize,c.defaults.fontLeading);return c.defaults.font};c.NON_BREAKING_SPACE="<sp>";c.LINE_BREAK="<br>";c.PARAGRAPH="<p>";c.instances=[];c.LEFT=37;c.UP=38;c.RIGHT=39;c.DOWN=40;c.CENTER=3;c.UNKNOWN=-1;c.TEXT_ENTERED=1;c.BEHAVIOR_COMPLETED=2;c.TIMER_TICK=3;c.MOVE_TO=1;c.FADE_COLOR=2;c.FADE_IN=3;c.FADE_OUT=4;c.FADE_TO_TEXT=5;c.TIMER=6;c.SCALE_TO=
7;c.LERP=8;c.LINEAR=Easing.Linear.None;c.EASE_IN=Easing.Exponential.In;c.EASE_OUT=Easing.Exponential.Out;c.EASE_IN_OUT=Easing.Exponential.InOut;c.EASE_IN_EXPO=Easing.Exponential.In;c.EASE_OUT_EXPO=Easing.Exponential.Out;c.EASE_IN_OUT_EXPO=Easing.Exponential.InOut;c.EASE_IN_SINE=Easing.Sinusoidal.In;c.EASE_OUT_SINE=Easing.Sinusoidal.Out;c.EASE_IN_OUT_SINE=Easing.Sinusoidal.InOut;c.EASE_IN_CUBIC=Easing.Cubic.In;c.EASE_OUT_CUBIC=Easing.Cubic.Out;c.EASE_IN_OUT_CUBIC=Easing.Cubic.InOut;c.EASE_IN_QUARTIC=
Easing.Quartic.In;c.EASE_OUT_QUARTIC=Easing.Quartic.Out;c.EASE_IN_OUT_QUARTIC=Easing.Quartic.InOut;c.EASE_IN_QUINTIC=Easing.Quintic.In;c.EASE_OUT_QUINTIC=Easing.Circular.Out;c.EASE_IN_OUT_QUINTIC=Easing.Circular.InOut;c.BACK_IN=Easing.Back.In;c.BACK_OUT=Easing.Back.Out;c.BACK_IN_OUT=Easing.Back.InOut;c.BOUNCE_IN=Easing.Bounce.In;c.BOUNCE_OUT=Easing.Bounce.Out;c.BOUNCE_IN_OUT=Easing.Bounce.InOut;c.CIRCULAR_IN=Easing.Circular.In;c.CIRCULAR_OUT=Easing.Circular.Out;c.CIRCULAR_IN_OUT=Easing.Circular.InOut;
c.ELASTIC_IN=Easing.Elastic.In;c.ELASTIC_OUT=Easing.Elastic.Out;c.ELASTIC_IN_OUT=Easing.Elastic.InOut;c.defaults={color:{r:0,g:0,b:0,a:255},font:null,scaleX:1,scaleY:1,alignment:c.LEFT,motionType:c.LINEAR,rotateZ:0,paragraphLeading:0,paragraphIndent:"    ",indentFirstParagraph:!1,fontFamily:"Times New Roman",fontSize:14,fontLeading:16,leadingFactor:1.1,boundingBoxStroke:null,boundingBoxFill:null,boundingBoxVisible:!1};c.prototype={__init__:function(a,b,d,h){if(!c.renderer)throw Error("No graphics context, RiText unavailable");
a=a||"";this._color={r:c.defaults.color.r,g:c.defaults.color.g,b:c.defaults.color.b,a:c.defaults.color.a};var e=c.defaults.boundingBoxStroke;this._boundingBoxStroke={r:e&&e.r||this._color.r,g:e&&e.g||this._color.g,b:e&&e.b||this._color.b,a:e&&e.a||this._color.a};e=c.defaults.boundingBoxFill;this._boundingBoxFill={r:e&&e.r||this._color.r,g:e&&e.g||this._color.g,b:e&&e.b||this._color.b,a:e&&e.a||0};this._boundingBoxVisible=c.defaults.boundingBoxVisible;this._motionType=c.defaults.motionType;this._alignment=
c.defaults.alignment;this._rotateZ=c.defaults.rotateZ;this._scaleX=c.defaults.scaleX;this._scaleY=c.defaults.scaleY;this._behaviors=[];this.font(h);this.text(a);this.g=c.renderer;this.x=1<arguments.length?b:this.g.__width()/2-this.textWidth()/2;this.y=1<arguments.length?d:this.g.__height()/2;c.instances.push(this);return this},draw:function(){this.update();this.render();this.fadeToTextCopy&&this.fadeToTextCopy.draw()},update:function(){this._updateBehaviors(Date.now())},render:function(){var a=this.g;
if(!a)throw Error("no-renderer");a.__pushState();if(this._rs&&this._rs.length){a.__pushState();a.__rotate(this._rotateZ);a.__translate(this.x,this.y);a.__scale(this._scaleX,this._scaleY,this.scaleZ);a.__fill(this._color.r,this._color.g,this._color.b,this._color.a);a.__textFont(this._font);a.__textAlign(this._alignment);a.__text(this._rs.text,0,0);if(this._boundingBoxVisible){a.__fill(this._boundingBoxFill.r,this._boundingBoxFill.g,this._boundingBoxFill.b,this._boundingBoxFill.a);a.__stroke(this._boundingBoxStroke.r,
this._boundingBoxStroke.g,this._boundingBoxStroke.b,this._boundingBoxStroke.a);var b=a.__getBoundingBox(this);switch(this._alignment){case c.RIGHT:a.__translate(-b.width,0);break;case c.CENTER:a.__translate(-b.width/2,0)}a.__rect(b.x,b.y,b.width,-b.height)}a.__popState()}return this},motionType:function(a){return arguments.length?(this._motionType=a,this):this._motionType},fadeIn:function(a,b){return this.colorTo([this._color.r,this._color.g,this._color.b,255],a,b,null,"fadeIn",!1)},fadeOut:function(a,
b,d,c){return this.colorTo([this._color.r,this._color.g,this._color.b,0],a,b,null,"fadeOut",c||!1)},colorTo:function(a,b,d,h,e,i){if("array"!=n(a))throw Error("arg-1 to fadeColor must be an array");var g=this,d=d||0,b=b||1,e=e||"fadeColor",a=J.apply(this,a);return setTimeout(function(){(new TextBehavior(g,g._color)).to({r:a.r,g:a.g,b:a.b,a:a.a},1E3*b).easing(g._motionType).onUpdate(function(){g._color.r=this.r;g._color.g=this.g;g._color.b=this.b;g._color.a=this.a}).onComplete(function(){x(g,e+"Complete").fire(h);
i&&c.dispose(g)}).start()},1E3*d)},scaleTo:function(a,b,d,c){var e=this,b=b||1;return setTimeout(function(){(new TextBehavior(e)).to({_scaleX:a,_scaleY:a},1E3*b).easing(e._motionType).onUpdate(function(){e._scaleX=this._scaleX;e._scaleY=this._scaleY}).onComplete(function(){x(e,"scaleToComplete").fire(c)}).start()},1E3*(d||0))},rotateTo:function(a,b,d,c){var e=this,b=b||1;return setTimeout(function(){(new TextBehavior(e)).to({_rotateZ:a},1E3*b).easing(e._motionType).onUpdate(function(){e._rotateZ=
this._rotateZ}).onComplete(function(){x(e,"rotateToComplete").fire(c)}).start()},1E3*(d||0))},textTo:function(a,b,d){var h=this._color,e=0,d=d||255;this.fadeToTextCopy&&(e=this.fadeToTextCopy.alpha(),c.dispose(this.fadeToTextCopy));this.fadeToTextCopy=this.clone().fadeOut(b,0,!0);c.dispose(this.fadeToTextCopy.fadeToTextCopy);this.text(a).alpha(e);return this.colorTo(h.r,h.g,h.b,d,0.95*b,0,"fadeToText")},moveTo:function(a,b,d,c,e){var h=this,c=c||0,d=d||1;return setTimeout(function(){(new TextBehavior(h)).to({x:a,
y:b},1E3*d).easing(h._motionType).onUpdate(function(){h.x=this.x;h.y=this.y}).delay(c).onComplete(function(){x(h,"moveToCompleted").fire(e)}).start()},1E3*c)},text:function(a){if(1==arguments.length){var b=n(a);"number"==b?a=String.fromCharCode(a):"object"==b&&"function"==typeof a.getText&&(a=a.getText());this._rs=this._rs?this._rs.setText(a):new G(a);if(!this._rs)throw Error("no rs!! "+a);return this}return this._rs.text},distanceTo:function(a){var b=this.center(),a=a.center();return RiTa.distance(b.x,
b.y,a.x,a.y)},center:function(){var a=boundingBox();return{x:a.x+a.width/2,y:a.y-a.height/2}},splitWords:function(a){a=a||" ";"string"==typeof a&&(a=RegExp(a));for(var b=[],a=this._rs.text.split(a),d=0;d<a.length;d++)if(!(1>a[d].length)){var c=this.clone();c.text(a[d]);var e=O(this,a,d);c.position(e,this.y);b.push(c)}return b},splitLetters:function(){for(var a=[],b=[],d=this.text(),c=d.length,e=0;e<c;e++)b[e]=d.charAt(e);for(d=0;d<b.length;d++)" "!=b[d]&&(c=this.clone(),c.text(b[d]),e=this.charOffset(d),
c.position(e,this.y),a.push(c));return a},contains:function(a,b){var d=this.g.__getBoundingBox(this);d.x+=this.x;d.y+=this.y;return!(a<d.x||a>d.x+d.width||b>d.y||b<d.y-d.height)},clone:function(){var a=new c(this.text(),this.x,this.y,this._font);a.color(this._color.r,this._color.g,this._color.b,this._color.a);for(prop in this)"function"==typeof this[prop]||"object"==typeof this[prop]||(a[prop]=this[prop]);return a},align:function(a){return arguments.length?(this._alignment=a,this):this._alignment},
font:function(a,b){var d=arguments;return 1==d.length?(this._font=a||c._getDefaultFont(),this._font.size=this._font.size||c.defaults.fontSize,this._font.leading=this._font.leading||this._font.size*c.defaults.leadingFactor,this):2==d.length?this.font(c.createFont(d[0],d[1])):this._font},showBoundingBox:function(a){return 1==arguments.length?(this._boundingBoxVisible=a,this):this._boundingBoxVisible},color:function(a,b,d,c){if(0==arguments.length)return this._color;this._color=J.apply(this,arguments);
return this},visible:function(){if(arguments.length)throw Error("visible() takes no arguments");return 0<this._color.a},alpha:function(a){return 1==arguments.length?(this._color.a=a,this):this._color.a},position:function(a,b){if(!arguments.length)return{x:this.x,y:this.y};this.x=a;this.y=b;return this},rotate:function(a){if(!arguments.length)return this._rotateZ;this._rotateZ=a;return this},scale:function(a,b){if(!arguments.length)return{x:this._scaleX,y:this._scaleY};1==arguments.length&&(b=a);this._scaleY=
this._scaleX=theScale;return this},charOffset:function(a){var b=this.x;if(0<a){var b=this.text(),d=b.length;a>d&&(a=d);b=this.x+this.g.__textWidth(this._font,b.substring(0,a))}return b},wordOffset:function(a){var b=this.text().split(" ");return O(this,b,a)},boundingBox:function(){return this.g.__getBoundingBox(this)},textWidth:function(){return this.g.__textWidth(this._font,this._rs.text)},textHeight:function(){return this.g.__textHeight(this)},fontSize:function(a){return arguments.length?this.font.size*
this.scaleX:this.scale(a/this._font.size)},textAscent:function(){return this.g.__textAscent(this)},textDescent:function(){return this.g.__textDescent(this)},removeCharAt:function(a){this._rs.removeCharAt(a);return this},_addBehavior:function(a){this._behaviors.push(a)},_removeBehavior:function(a){a=this._behaviors.indexOf(a);-1!==a&&this._behaviors.splice(a,1)},_removeBehaviors:function(){this._behaviors=[]},_updateBehaviors:function(a){for(var b=0,d=this._behaviors.length,a=a||Date.now();b<d;)this._behaviors[b].update(a)?
b++:(this._behaviors.splice(b,1),d--)},toString:function(){var a=this._rs&&this._rs.text||"undefined";return"["+Math.round(this.x)+","+Math.round(this.y)+",'"+a+"']"}};var Y=z();Y.prototype={__init__:function(a){this.p=a},__size:function(){return this.p.size.apply(this,arguments)},__getGraphics:function(){return this.p},__pushState:function(){this.p.pushStyle();this.p.pushMatrix();return this},__popState:function(){this.p.popStyle();this.p.popMatrix();return this},__textAlign:function(a){this.p.textAlign.apply(this,
arguments);return this},__scale:function(a,b){this.p.scale(a,b,1)},__translate:function(a,b){this.p.translate(a,b,0)},__rotate:function(a){this.p.rotate(a)},__text:function(a,b,d){this.p.text.apply(this,arguments)},__fill:function(a,b,d,c){this.p.fill.apply(this,arguments)},__stroke:function(a,b,d,c){this.p.stroke.apply(this,arguments)},__background:function(a,b,c,h){this.p.background.apply(this,arguments)},__createFont:function(a,b){return this.p.createFont(a,b)},__rect:function(a,b,c,h){this.p.rect.apply(this,
arguments)},__line:function(a,b,c,h,e){e&&p.strokeWeight(e);this.p.line.apply(this,arguments)},__textFont:function(a){if("object"!=n(a))throw Error("__textFont takes object!");this.p.textFont(a,a.size)},__textWidth:function(a,b){this.p.pushStyle();this.p.textFont(a,a.size);var c=this.p.textWidth(b);this.p.popStyle();return c},__textHeight:function(a){return this.__getBoundingBox(a).height},__textAscent:function(a){this.p.pushStyle();this.p.textFont(a._font,a._font.size);a=this.p.textAscent();this.p.popStyle();
return a},__textDescent:function(a){this.p.pushStyle();this.p.textFont(a._font,a._font.size);a=this.p.textDescent();this.p.popStyle();return a},__width:function(){return this.p.width},__height:function(){return this.p.height},__getBoundingBox:function(a){this.p.pushStyle();var b=Math.round(this.p.textAscent()),c=Math.round(this.p.textDescent()),a=Math.round(this.p.textWidth(a.text()));this.p.popStyle();return{x:0,y:c-1,width:a,height:b+c+1}},__type:function(){return"Processing"},toString:function(){return"RiText_"+
this.__type}};x.callbacksDisabled=!1;x.prototype={__init__:function(a,b){var d=x.prototype.__init__;d.ID||(d.ID=0);this._id=++d.ID;this._source=a;this._type=b||c.UNKNOWN},toString:function(){return"RiTaEvent[#"+this._id+" type="+this._type+" src="+this._source.toString()+"]"},source:function(){return this._source},type:function(){return this._type},fire:function(a){a=a||h.onRiTaEvent||c.graphics().onRiTaEvent;if("function"===typeof a)try{a.apply(this,[this])}catch(b){throw x.callbacksDisabled=!0,
console.warn("RiTaEvent: error calling 'onRiTaEvent' "+b),b;}else x.callbacksDisabled||(console.warn("RiTaEvent: no 'onRiTaEvent' callback found"),x.callbacksDisabled=!0)}};var N="undefined"!==typeof Processing;if(N)Processing.registerLibrary("RiTa",{p:null,init:function(){},attach:function(a){p=a;console.log("Processing.registerLibrary.attach");c.renderer=new Y(a)},detach:function(){console.log("Processing.registerLibrary.detach")}});else{M=document.getElementsByTagName("canvas")[0];try{var oa=M.getContext("2d");
c.renderer=new b(oa)}catch(pa){console.warn("[RiTa] No object w' name='canvas' in DOM, renderer will be unavailable")}}RiTa.p5Compatible=function(a){arguments.callee.setupAndDraw||(arguments.callee.setupAndDraw=function(){"function"==typeof h.setup&&setup();"function"==typeof h.draw&&c.loop()});if(a){if(c.prototype.fill=c.prototype.color,c.prototype.textAlign=c.prototype.align,c.prototype.textFont=c.prototype.font,c.prototype.textSize=c.prototype.fontSize,c.prototype.setText=c.prototype.text,c.prototype.fadeColor=
c.prototype.colorTo,c.prototype.fadeToText=c.prototype.textTo,c.prototype.setColor=c.prototype.color,c.setDefaultFont=c.defaultFont,c.setDefaultColor=c.defaultColor,c.setDefaultAlignment=c.defaultAlignment,c.setCallbackTimer=c.timer,!N)h.line||(h.line=c.line),h.size||(h.size=c.size),h.width||(h.width=c.width),h.height||(h.height=c.height),h.createFont||(h.createFont=c.createFont),h.background||(h.background=c.background),h.random||(h.random=c.random),h.RIGHT||(h.RIGHT=c.RIGHT),h.LEFT||(h.LEFT=c.LEFT),
h.CENTER||(h.CENTER=c.CENTER),h.onload=arguments.callee.setupAndDraw}else delete c.prototype.fill,delete c.prototype.textAlign,delete c.prototype.textFont,delete c.prototype.textSize,delete c.prototype.setColor,delete c.prototype.setText,delete c.prototype.fadeColor,delete c.prototype.fadeToText,delete c.setDefaultFont,delete c.setDefaultColor,delete c.setDefaultAlignment,delete c.setCallbackTimer,N||(h.line===c.line&&delete h.line,h.size===c.size&&delete h.size,h.width===c.width&&delete h.width,
h.height===c.height&&delete h.height,h.createFont===c.createFont&&delete h.createFont,h.background===c.background&&delete h.background,h.random===c.random&&delete h.random,h.RIGHT===c.RIGHT&&delete h.RIGHT,h.LEFT===c.LEFT&&delete h.LEFT,h.CENTER===c.CENTER&&delete h.CENTER,h.onload==arguments.callee.setupAndDraw&&delete h.onload)};h.RiTa=RiTa;h.RiString=G;h.RiLexicon=j;h.RiGrammar=o;h.RiText=c;RiTa.p5Compatible(!0)})(window);